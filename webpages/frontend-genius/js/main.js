$(document).ready(function(){function t(t){t.validate({rules:{tel:{required:!0,regex:"^([+]+)*[0-9 ()-]{5,20}$"},name:{required:!0},email:{required:!0,email:!0}},messages:{tel:{required:"Поле обязательно для заполнения",regex:"Телефон может содержать символы + - ()"},name:{required:"Поле обязательно для заполнения"},email:{required:"Поле обязательно для заполнения",email:"Неверный формат E-mail"}},submitHandler:function(t){$("#loader").fadeIn();var a=$(t),e=$(t).attr("id");switch(e){case"bottomForm":$.ajax({type:"POST",url:a.attr("action"),data:a.serialize()}).always(function(t){location.href="https://wayup.in/lm/landing-page-marathon/success",ga("send","event","masterklass7","register"),yaCounter27714603.reachGoal("lm17lead")});break;case"popupResult":$.ajax({type:"POST",url:a.attr("action"),data:a.serialize()}).always(function(t){setTimeout(function(){$("#loader").fadeOut()},800),setTimeout(function(){$("#overlay").fadeIn(),a.trigger("reset")},1100),$("#overlay").on("click",function(t){$("#overlay").fadeOut(),$("#myModal").fadeOut(),$(".modal-backdrop").hide(),$("body").removeClass("modal-open")})})}return!1}})}$("[data-submit]").on("click",function(){$(this).parent("form").submit()}),$.validator.addMethod("regex",function(t,a,e){var o=new RegExp(e);return this.optional(a)||o.test(t)},"Пожалуйста, заполните форму"),$(".js-form").each(function(){t($(this))}),$("[data-scroll]").on("click",function(){$("html, body").animate({scrollTop:$($.attr(this,"data-scroll")).offset().top},2e3),event.preventDefault()}),$("a").click(function(){var t=$(this).attr("data-scroll");if("#"!==t){var a=$(t).offset().top;return $("html,body").animate({scrollTop:a},200),!1}});var a=$(window).width();a>991&&($(".fs-down").each(function(){var t=$(this).offset().top,a=$(window).scrollTop();t<a+500&&$(this).addClass("fadeInDown")}),$(".fs-left").each(function(){var t=$(this).offset().top,a=$(window).scrollTop();t<a+500&&$(this).addClass("fadeInLeft")}),setTimeout(function(){$(".fs-fadein").addClass("fadeIn")},1e3),$(window).scroll(function(){$(".up").each(function(){var t=$(this).offset().top,a=$(window).scrollTop();t<a+700&&$(this).addClass("fadeInUp")}),$(".down").each(function(){var t=$(this).offset().top,a=$(window).scrollTop();t<a+700&&$(this).addClass("fadeInDown")}),$(".left").each(function(){var t=$(this).offset().top,a=$(window).scrollTop();t<a+700&&$(this).addClass("fadeInLeft")}),$(".right").each(function(){var t=$(this).offset().top,a=$(window).scrollTop();t<a+700&&$(this).addClass("fadeInRight")})}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJ2YWxFbCIsImVsIiwidmFsaWRhdGUiLCJydWxlcyIsInRlbCIsInJlcXVpcmVkIiwicmVnZXgiLCJuYW1lIiwiZW1haWwiLCJtZXNzYWdlcyIsInN1Ym1pdEhhbmRsZXIiLCJmb3JtIiwiZmFkZUluIiwiJGZvcm0iLCIkZm9ybUlkIiwiYXR0ciIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YSIsInNlcmlhbGl6ZSIsImFsd2F5cyIsInJlc3BvbnNlIiwibG9jYXRpb24iLCJocmVmIiwiZ2EiLCJ5YUNvdW50ZXIyNzcxNDYwMyIsInJlYWNoR29hbCIsInNldFRpbWVvdXQiLCJmYWRlT3V0IiwidHJpZ2dlciIsIm9uIiwiZSIsImhpZGUiLCJyZW1vdmVDbGFzcyIsInRoaXMiLCJwYXJlbnQiLCJzdWJtaXQiLCJ2YWxpZGF0b3IiLCJhZGRNZXRob2QiLCJ2YWx1ZSIsImVsZW1lbnQiLCJyZWdleHAiLCJyZSIsIlJlZ0V4cCIsIm9wdGlvbmFsIiwidGVzdCIsImVhY2giLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNsaWNrIiwiZWxlbWVudENsaWNrIiwiZGVzdGluYXRpb24iLCJ3aW4iLCJ3aW5kb3ciLCJ3aWR0aCIsImVsUG9zIiwidG9wT2ZXaW5kb3ciLCJhZGRDbGFzcyIsInNjcm9sbCJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FjaEIsUUFBU0MsR0FBTUMsR0FDYkEsRUFBR0MsVUFDREMsT0FDRUMsS0FDRUMsVUFBVSxFQUNWQyxNQUFPLDRCQUVUQyxNQUNFRixVQUFVLEdBRVpHLE9BQ0VILFVBQVUsRUFDVkcsT0FBTyxJQUdYQyxVQUNFTCxLQUNFQyxTQUFVLGtDQUNWQyxNQUFPLDBDQUVUQyxNQUNFRixTQUFVLG1DQUVaRyxPQUNFSCxTQUFVLGtDQUNWRyxNQUFPLDJCQUdYRSxj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QUFFc0MsTUFBTWUsU0FBU0MsSUFDekJVLEVBQWNoRSxFQUFFNkQsUUFBUVQsV0FDeEJXLEdBQVFDLEVBQWMsS0FDeEJoRSxFQUFFc0MsTUFBTTJCLFNBQVMsZ0JBR3JCakUsRUFBRSxVQUFVa0QsS0FBSyxXQUNmLEdBQUlhLEdBQVEvRCxFQUFFc0MsTUFBTWUsU0FBU0MsSUFDekJVLEVBQWNoRSxFQUFFNkQsUUFBUVQsV0FDeEJXLEdBQVFDLEVBQWMsS0FDeEJoRSxFQUFFc0MsTUFBTTJCLFNBQVMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4vL0ZPUk0gVkFMSURBVElPTlxyXG4gICQoXCJbZGF0YS1zdWJtaXRdXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudChcImZvcm1cIikuc3VibWl0KCk7XHJcbiAgfSk7XHJcbiAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKFxyXG4gICAgXCJyZWdleFwiLFxyXG4gICAgZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQsIHJlZ2V4cCkge1xyXG4gICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKHJlZ2V4cCk7XHJcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IHJlLnRlc3QodmFsdWUpO1xyXG4gICAgfSxcclxuICAgIFwi0J/QvtC20LDQu9GD0LnRgdGC0LAsINC30LDQv9C+0LvQvdC40YLQtSDRhNC+0YDQvNGDXCJcclxuICApO1xyXG5cclxuICBmdW5jdGlvbiB2YWxFbChlbCkge1xyXG4gICAgZWwudmFsaWRhdGUoe1xyXG4gICAgICBydWxlczoge1xyXG4gICAgICAgIHRlbDoge1xyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICByZWdleDogXCJeKFsrXSspKlswLTlcXHgyMFxceDI4XFx4MjktXXs1LDIwfSRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmFtZToge1xyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVtYWlsOiB7XHJcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgIGVtYWlsOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBtZXNzYWdlczoge1xyXG4gICAgICAgIHRlbDoge1xyXG4gICAgICAgICAgcmVxdWlyZWQ6IFwi0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y9cIixcclxuICAgICAgICAgIHJlZ2V4OiBcItCi0LXQu9C10YTQvtC9INC80L7QttC10YIg0YHQvtC00LXRgNC20LDRgtGMINGB0LjQvNCy0L7Qu9GLICsgLSAoKVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICByZXF1aXJlZDogXCLQn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRj1wiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbWFpbDoge1xyXG4gICAgICAgICAgcmVxdWlyZWQ6IFwi0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y9cIixcclxuICAgICAgICAgIGVtYWlsOiBcItCd0LXQstC10YDQvdGL0Lkg0YTQvtGA0LzQsNGCIEUtbWFpbFwiXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbihmb3JtKSB7XHJcbiAgICAgICAgJChcIiNsb2FkZXJcIikuZmFkZUluKCk7XHJcbiAgICAgICAgdmFyICRmb3JtID0gJChmb3JtKTtcclxuICAgICAgICB2YXIgJGZvcm1JZCA9ICQoZm9ybSkuYXR0cihcImlkXCIpO1xyXG4gICAgICAgIHN3aXRjaCAoJGZvcm1JZCkge1xyXG4gICAgICAgICAgY2FzZSBcImJvdHRvbUZvcm1cIjpcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICB1cmw6ICRmb3JtLmF0dHIoXCJhY3Rpb25cIiksXHJcbiAgICAgICAgICAgICAgZGF0YTogJGZvcm0uc2VyaWFsaXplKClcclxuICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgLy/RgdGB0YvQu9C60LAg0L3QsCDRgdGC0YDQsNC90LjRhtGDIFwi0YHQv9Cw0YHQuNCx0L5cIiAtINGA0LXQtNC40YDQtdC60YJcclxuICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID1cclxuICAgICAgICAgICAgICAgIFwiaHR0cHM6Ly93YXl1cC5pbi9sbS9sYW5kaW5nLXBhZ2UtbWFyYXRob24vc3VjY2Vzc1wiO1xyXG4gICAgICAgICAgICAgIC8v0L7RgtC/0YDQsNCy0LrQsCDRhtC10LvQtdC5INCyINCvLtCc0LXRgtGA0LjQutGDINC4IEdvb2dsZSBBbmFseXRpY3NcclxuICAgICAgICAgICAgICBnYShcInNlbmRcIiwgXCJldmVudFwiLCBcIm1hc3RlcmtsYXNzN1wiLCBcInJlZ2lzdGVyXCIpO1xyXG4gICAgICAgICAgICAgIHlhQ291bnRlcjI3NzE0NjAzLnJlYWNoR29hbChcImxtMTdsZWFkXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwicG9wdXBSZXN1bHRcIjpcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICB1cmw6ICRmb3JtLmF0dHIoXCJhY3Rpb25cIiksXHJcbiAgICAgICAgICAgICAgZGF0YTogJGZvcm0uc2VyaWFsaXplKClcclxuICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjbG9hZGVyXCIpLmZhZGVPdXQoKTtcclxuICAgICAgICAgICAgICB9LCA4MDApO1xyXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI292ZXJsYXlcIikuZmFkZUluKCk7XHJcbiAgICAgICAgICAgICAgICAkZm9ybS50cmlnZ2VyKFwicmVzZXRcIik7XHJcbiAgICAgICAgICAgICAgICAvL9GB0YLRgNC+0LrQuCDQtNC70Y8g0L7RgdGC0LvQtdC20LjQstCw0L3QuNGPINGG0LXQu9C10Lkg0LIg0K8u0JzQtdGC0YDQuNC60LUg0LggR29vZ2xlIEFuYWx5dGljc1xyXG4gICAgICAgICAgICAgIH0sIDExMDApO1xyXG4gICAgICAgICAgICAgICQoXCIjb3ZlcmxheVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjb3ZlcmxheVwiKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgICAgICAkKFwiI215TW9kYWxcIikuZmFkZU91dCgpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5tb2RhbC1iYWNrZHJvcFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcIm1vZGFsLW9wZW5cIik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gICQoXCIuanMtZm9ybVwiKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFsRWwoJCh0aGlzKSk7XHJcbiAgfSk7XHJcbiAgJChcIltkYXRhLXNjcm9sbF1cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoXHJcbiAgICAgIHtcclxuICAgICAgICBzY3JvbGxUb3A6ICQoJC5hdHRyKHRoaXMsIFwiZGF0YS1zY3JvbGxcIikpLm9mZnNldCgpLnRvcFxyXG4gICAgICB9LFxyXG4gICAgICAyMDAwXHJcbiAgICApO1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxuXHJcbi8vIFBBR0UgU0NST0xMXHJcbiAgJChcImFcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZWxlbWVudENsaWNrID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1zY3JvbGxcIik7XHJcbiAgICBpZiAoZWxlbWVudENsaWNrICE9PSBcIiNcIikge1xyXG4gICAgICB2YXIgZGVzdGluYXRpb24gPSAkKGVsZW1lbnRDbGljaykub2Zmc2V0KCkudG9wO1xyXG4gICAgICAkKFwiaHRtbCxib2R5XCIpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IGRlc3RpbmF0aW9uIH0sIDIwMCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbi8vQU5JTUFUSU9OU1xyXG5cclxuICAvL0ZJUlNUIFNDUkVFTiBBTklNQVRJT05cclxuICB2YXIgd2luID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcbiAgaWYgKHdpbiA+IDk5MSkge1xyXG4gICAgJChcIi5mcy1kb3duXCIpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBlbFBvcyA9ICQodGhpcykub2Zmc2V0KCkudG9wO1xyXG4gICAgICB2YXIgdG9wT2ZXaW5kb3cgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgIGlmIChlbFBvcyA8IHRvcE9mV2luZG93ICsgNTAwKSB7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImZhZGVJbkRvd25cIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJChcIi5mcy1sZWZ0XCIpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBlbFBvcyA9ICQodGhpcykub2Zmc2V0KCkudG9wO1xyXG4gICAgICB2YXIgdG9wT2ZXaW5kb3cgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgIGlmIChlbFBvcyA8IHRvcE9mV2luZG93ICsgNTAwKSB7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImZhZGVJbkxlZnRcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICQoXCIuZnMtZmFkZWluXCIpLmFkZENsYXNzKFwiZmFkZUluXCIpO1xyXG4gICAgfSwgMTAwMCk7XHJcblxyXG4gICAgLy9BTklNQVRJT04gVFJJR0dFUlNcclxuICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICQoXCIudXBcIikuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZWxQb3MgPSAkKHRoaXMpLm9mZnNldCgpLnRvcDtcclxuICAgICAgICB2YXIgdG9wT2ZXaW5kb3cgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgaWYgKGVsUG9zIDwgdG9wT2ZXaW5kb3cgKyA3MDApIHtcclxuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJmYWRlSW5VcFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICAkKFwiLmRvd25cIikuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZWxQb3MgPSAkKHRoaXMpLm9mZnNldCgpLnRvcDtcclxuICAgICAgICB2YXIgdG9wT2ZXaW5kb3cgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgaWYgKGVsUG9zIDwgdG9wT2ZXaW5kb3cgKyA3MDApIHtcclxuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJmYWRlSW5Eb3duXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgICQoXCIubGVmdFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlbFBvcyA9ICQodGhpcykub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgIHZhciB0b3BPZldpbmRvdyA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICBpZiAoZWxQb3MgPCB0b3BPZldpbmRvdyArIDcwMCkge1xyXG4gICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImZhZGVJbkxlZnRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgJChcIi5yaWdodFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlbFBvcyA9ICQodGhpcykub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgIHZhciB0b3BPZldpbmRvdyA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICBpZiAoZWxQb3MgPCB0b3BPZldpbmRvdyArIDcwMCkge1xyXG4gICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImZhZGVJblJpZ2h0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuIl19
