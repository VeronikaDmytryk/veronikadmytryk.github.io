!function(){function t(e){var n=t.modules[e];if(!n)throw new Error('failed to require "'+e+'"');return"exports"in n||"function"!=typeof n.definition||(n.client=n.component=!0,n.definition.call(this,n.exports={},n),delete n.definition),n.exports}t.loader="component",t.helper={},t.helper.semVerSort=function(t,e){for(var n=t.version.split("."),i=e.version.split("."),o=0;o<n.length;++o){var s=parseInt(n[o],10),r=parseInt(i[o],10);if(s!==r)return s>r?1:-1;var c=n[o].substr((""+s).length),a=i[o].substr((""+r).length);if(""===c&&""!==a)return 1;if(""!==c&&""===a)return-1;if(""!==c&&""!==a)return c>a?1:-1}return 0},t.latest=function(e,n){function i(t){throw new Error('failed to find latest module of "'+t+'"')}var o=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/,s=/(.*)~(.*)/;s.test(e)||i(e);for(var r=Object.keys(t.modules),c=[],a=[],l=0;l<r.length;l++){var h=r[l];if(new RegExp(e+"@").test(h)){var u=h.substr(e.length+1),d=o.exec(h);null!=d?c.push({version:u,name:h}):a.push({version:u,name:h})}}if(0===c.concat(a).length&&i(e),c.length>0){var p=c.sort(t.helper.semVerSort).pop().name;return n===!0?p:t(p)}var p=a.sort(function(t,e){return t.name>e.name})[0].name;return n===!0?p:t(p)},t.modules={},t.register=function(e,n){t.modules[e]={definition:n}},t.define=function(e,n){t.modules[e]={exports:n}},t.register("abpetkov~transitionize@0.0.3",function(t,e){function n(t,e){return this instanceof n?(this.element=t,this.props=e||{},void this.init()):new n(t,e)}e.exports=n,n.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},n.prototype.init=function(){var t=[];for(var e in this.props)t.push(e+" "+this.props[e]);this.element.style.transition=t.join(", "),this.isSafari()&&(this.element.style.webkitTransition=t.join(", "))}}),t.register("ftlabs~fastclick@v0.6.11",function(t,e){function n(t){"use strict";var e,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return n.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return n.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return n.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return n.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return n.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return n.prototype.onTouchCancel.apply(i,arguments)},n.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}n.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,n.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),n.prototype.deviceIsIOS4=n.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),n.prototype.deviceIsIOSWithBadTarget=n.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),n.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},n.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],this.deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},n.prototype.onTouchMove=function(t){"use strict";return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},n.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){"use strict";var e,n,i,o,s,r=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],r=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||r,r.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=r.tagName.toLowerCase(),"label"===i){if(e=this.findControl(r)){if(this.focus(r),this.deviceIsAndroid)return!1;r=e}}else if(this.needsFocus(r))return t.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(r),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return!(!this.deviceIsIOS||this.deviceIsIOS4||(o=r.fastClickScrollParent,!o||o.fastClickLastScrollTop===o.scrollTop))||(this.needsClick(r)||(t.preventDefault(),this.sendClick(r,t)),!1)},n.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){"use strict";return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},n.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},n.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){"use strict";var e,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction},n.attach=function(t){"use strict";return new n(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return n}):"undefined"!=typeof e&&e.exports?(e.exports=n.attach,e.exports.FastClick=n):window.FastClick=n}),t.register("component~indexof@0.0.3",function(t,e){e.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}}),t.register("component~classes@1.2.1",function(e,n){function i(t){if(!t)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var o=t("component~indexof@0.0.3"),s=/\s+/,r=Object.prototype.toString;n.exports=function(t){return new i(t)},i.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),n=o(e,t);return~n||e.push(t),this.el.className=e.join(" "),this},i.prototype.remove=function(t){if("[object RegExp]"==r.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=o(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},i.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},i.prototype.toggle=function(t,e){return this.list?("undefined"!=typeof e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):("undefined"!=typeof e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},i.prototype.array=function(){var t=this.el.className.replace(/^\s+|\s+$/g,""),e=t.split(s);return""===e[0]&&e.shift(),e},i.prototype.has=i.prototype.contains=function(t){return this.list?this.list.contains(t):!!~o(this.array(),t)}}),t.register("component~event@0.1.4",function(t,e){var n=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==n?"on":"";t.bind=function(t,e,i,s){return t[n](o+e,i,s||!1),i},t.unbind=function(t,e,n,s){return t[i](o+e,n,s||!1),n}}),t.register("component~query@0.0.3",function(t,e){function n(t,e){return e.querySelector(t)}t=e.exports=function(t,e){return e=e||document,n(t,e)},t.all=function(t,e){return e=e||document,e.querySelectorAll(t)},t.engine=function(e){if(!e.one)throw new Error(".one callback required");if(!e.all)throw new Error(".all callback required");return n=e.one,t.all=e.all,t}}),t.register("component~matches-selector@0.1.5",function(e,n){function i(t,e){if(!t||1!==t.nodeType)return!1;if(r)return r.call(t,e);for(var n=o.all(e,t.parentNode),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var o=t("component~query@0.0.3"),s=Element.prototype,r=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector;n.exports=i}),t.register("component~closest@0.1.4",function(e,n){var i=t("component~matches-selector@0.1.5");n.exports=function(t,e,n,o){for(t=n?{parentNode:t}:t,o=o||document;(t=t.parentNode)&&t!==document;){if(i(t,e))return t;if(t===o)return}}}),t.register("component~delegate@0.2.3",function(e,n){var i=t("component~closest@0.1.4"),o=t("component~event@0.1.4");e.bind=function(t,e,n,s,r){return o.bind(t,n,function(n){var o=n.target||n.srcElement;n.delegateTarget=i(o,e,!0,t),n.delegateTarget&&s.call(t,n)},r)},e.unbind=function(t,e,n,i){o.unbind(t,e,n,i)}}),t.register("component~events@1.0.9",function(e,n){function i(t,e){if(!(this instanceof i))return new i(t,e);if(!t)throw new Error("element required");if(!e)throw new Error("object required");this.el=t,this.obj=e,this._events={}}function o(t){var e=t.split(/ +/);return{name:e.shift(),selector:e.join(" ")}}var s=t("component~event@0.1.4"),r=t("component~delegate@0.2.3");n.exports=i,i.prototype.sub=function(t,e,n){this._events[t]=this._events[t]||{},this._events[t][e]=n},i.prototype.bind=function(t,e){function n(){var t=[].slice.call(arguments).concat(h);a[e].apply(a,t)}var i=o(t),c=this.el,a=this.obj,l=i.name,e=e||"on"+l,h=[].slice.call(arguments,2);return i.selector?n=r.bind(c,i.selector,l,n):s.bind(c,l,n),this.sub(l,e,n),n},i.prototype.unbind=function(t,e){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(t);var n=this._events[t];if(n){var i=n[e];i&&s.unbind(this.el,t,i)}},i.prototype.unbindAll=function(){for(var t in this._events)this.unbindAllOf(t)},i.prototype.unbindAllOf=function(t){var e=this._events[t];if(e)for(var n in e)this.unbind(t,n)}}),t.register("switchery",function(e,n){function i(t,e){if(!(this instanceof i))return new i(t,e);this.element=t,this.options=e||{};for(var n in a)null==this.options[n]&&(this.options[n]=a[n]);null!=this.element&&"checkbox"==this.element.type&&this.init(),this.isDisabled()===!0&&this.disable()}var o=t("abpetkov~transitionize@0.0.3"),s=t("ftlabs~fastclick@v0.6.11"),r=t("component~classes@1.2.1"),c=t("component~events@1.0.9");n.exports=i;var a={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};i.prototype.hide=function(){this.element.style.display="none"},i.prototype.show=function(){var t=this.create();this.insertAfter(this.element,t)},i.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.events=c(this.switcher,this),this.switcher},i.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},i.prototype.setPosition=function(t){var e=this.isChecked(),n=this.switcher,i=this.jack;t&&e?e=!1:t&&!e&&(e=!0),e===!0?(this.element.checked=!0,window.getComputedStyle?i.style.left=parseInt(window.getComputedStyle(n).width)-parseInt(window.getComputedStyle(i).width)+"px":i.style.left=parseInt(n.currentStyle.width)-parseInt(i.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(i.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==a.secondaryColor?this.options.secondaryColor:"#fff",this.jack.style.backgroundColor=this.options.jackSecondaryColor!==this.options.jackColor?this.options.jackSecondaryColor:this.options.jackColor,this.setSpeed())},i.prototype.setSpeed=function(){var t={},e={"background-color":this.options.speed,left:this.options.speed.replace(/[a-z]/,"")/2+"s"};t=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},o(this.switcher,t),o(this.jack,e)},i.prototype.setSize=function(){var t="switchery-small",e="switchery-default",n="switchery-large";switch(this.options.size){case"small":r(this.switcher).add(t);break;case"large":r(this.switcher).add(n);break;default:r(this.switcher).add(e)}},i.prototype.colorize=function(){var t=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+t+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},i.prototype.handleOnchange=function(t){if(document.dispatchEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!0),this.element.dispatchEvent(e)}else this.element.fireEvent("onchange")},i.prototype.handleChange=function(){var t=this,e=this.element;e.addEventListener?e.addEventListener("change",function(){t.setPosition()}):e.attachEvent("onchange",function(){t.setPosition()})},i.prototype.handleClick=function(){var t=this.switcher;s(t),this.events.bind("click","bindClick")},i.prototype.bindClick=function(){var t=this.element.parentNode.tagName.toLowerCase(),e="label"!==t;this.setPosition(e),this.handleOnchange(this.element.checked)},i.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},i.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},i.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()},i.prototype.isChecked=function(){return this.element.checked},i.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},i.prototype.destroy=function(){this.events.unbind()},i.prototype.enable=function(){this.options.disabled&&(this.options.disabled&&(this.options.disabled=!1),this.element.disabled&&(this.element.disabled=!1),this.element.readOnly&&(this.element.readOnly=!1),this.switcher.style.opacity=1,this.events.bind("click","bindClick"))},i.prototype.disable=function(){this.options.disabled||(this.options.disabled||(this.options.disabled=!0),this.element.disabled||(this.element.disabled=!0),this.element.readOnly||(this.element.readOnly=!0),this.switcher.style.opacity=this.options.disabledOpacity,this.destroy())}}),"object"==typeof exports?module.exports=t("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return t("switchery")}):(this||window).Switchery=t("switchery")}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN3aXRjaGVyeS5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwibmFtZSIsIm1vZHVsZSIsIm1vZHVsZXMiLCJFcnJvciIsImRlZmluaXRpb24iLCJjbGllbnQiLCJjb21wb25lbnQiLCJjYWxsIiwidGhpcyIsImV4cG9ydHMiLCJsb2FkZXIiLCJoZWxwZXIiLCJzZW1WZXJTb3J0IiwiYSIsImIiLCJhQXJyYXkiLCJ2ZXJzaW9uIiwic3BsaXQiLCJiQXJyYXkiLCJpIiwibGVuZ3RoIiwiYUludCIsInBhcnNlSW50IiwiYkludCIsImFMZXgiLCJzdWJzdHIiLCJiTGV4IiwibGF0ZXN0IiwicmV0dXJuUGF0aCIsInNob3dFcnJvciIsInZlcnNpb25SZWdleHAiLCJyZW1vdGVSZWdleHAiLCJ0ZXN0IiwibW9kdWxlTmFtZXMiLCJPYmplY3QiLCJrZXlzIiwic2VtVmVyQ2FuZGlkYXRlcyIsIm90aGVyQ2FuZGlkYXRlcyIsIm1vZHVsZU5hbWUiLCJSZWdFeHAiLCJzZW1WZXJNYXRjaCIsImV4ZWMiLCJwdXNoIiwiY29uY2F0Iiwic29ydCIsInBvcCIsInJlZ2lzdGVyIiwiZGVmaW5lIiwiVHJhbnNpdGlvbml6ZSIsImVsZW1lbnQiLCJwcm9wcyIsImluaXQiLCJwcm90b3R5cGUiLCJpc1NhZmFyaSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlbmRvciIsInRyYW5zaXRpb25zIiwia2V5Iiwic3R5bGUiLCJ0cmFuc2l0aW9uIiwiam9pbiIsIndlYmtpdFRyYW5zaXRpb24iLCJGYXN0Q2xpY2siLCJsYXllciIsIm9sZE9uQ2xpY2siLCJzZWxmIiwidHJhY2tpbmdDbGljayIsInRyYWNraW5nQ2xpY2tTdGFydCIsInRhcmdldEVsZW1lbnQiLCJ0b3VjaFN0YXJ0WCIsInRvdWNoU3RhcnRZIiwibGFzdFRvdWNoSWRlbnRpZmllciIsInRvdWNoQm91bmRhcnkiLCJub2RlVHlwZSIsIlR5cGVFcnJvciIsIm9uQ2xpY2siLCJhcHBseSIsImFyZ3VtZW50cyIsIm9uTW91c2UiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJvblRvdWNoQ2FuY2VsIiwibm90TmVlZGVkIiwiZGV2aWNlSXNBbmRyb2lkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkV2ZW50Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInR5cGUiLCJjYWxsYmFjayIsImNhcHR1cmUiLCJybXYiLCJOb2RlIiwiaGlqYWNrZWQiLCJhZHYiLCJldmVudCIsInByb3BhZ2F0aW9uU3RvcHBlZCIsIm9uY2xpY2siLCJpbmRleE9mIiwiZGV2aWNlSXNJT1MiLCJkZXZpY2VJc0lPUzQiLCJkZXZpY2VJc0lPU1dpdGhCYWRUYXJnZXQiLCJuZWVkc0NsaWNrIiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImRpc2FibGVkIiwiY2xhc3NOYW1lIiwibmVlZHNGb2N1cyIsInJlYWRPbmx5Iiwic2VuZENsaWNrIiwiY2xpY2tFdmVudCIsInRvdWNoIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiYmx1ciIsImNoYW5nZWRUb3VjaGVzIiwiY3JlYXRlRXZlbnQiLCJpbml0TW91c2VFdmVudCIsImRldGVybWluZUV2ZW50VHlwZSIsIndpbmRvdyIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJmb3J3YXJkZWRUb3VjaEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInRhZ05hbWUiLCJmb2N1cyIsInNldFNlbGVjdGlvblJhbmdlIiwidmFsdWUiLCJ1cGRhdGVTY3JvbGxQYXJlbnQiLCJzY3JvbGxQYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiZmFzdENsaWNrU2Nyb2xsUGFyZW50IiwiY29udGFpbnMiLCJzY3JvbGxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJmYXN0Q2xpY2tMYXN0U2Nyb2xsVG9wIiwic2Nyb2xsVG9wIiwiZ2V0VGFyZ2V0RWxlbWVudEZyb21FdmVudFRhcmdldCIsImV2ZW50VGFyZ2V0IiwiVEVYVF9OT0RFIiwicGFyZW50Tm9kZSIsInNlbGVjdGlvbiIsInRhcmdldFRvdWNoZXMiLCJnZXRTZWxlY3Rpb24iLCJyYW5nZUNvdW50IiwiaXNDb2xsYXBzZWQiLCJpZGVudGlmaWVyIiwicHJldmVudERlZmF1bHQiLCJ0aW1lU3RhbXAiLCJwYWdlWCIsInBhZ2VZIiwibGFzdENsaWNrVGltZSIsInRvdWNoSGFzTW92ZWQiLCJib3VuZGFyeSIsIk1hdGgiLCJhYnMiLCJmaW5kQ29udHJvbCIsImxhYmVsRWxlbWVudCIsInVuZGVmaW5lZCIsImNvbnRyb2wiLCJodG1sRm9yIiwiZ2V0RWxlbWVudEJ5SWQiLCJxdWVyeVNlbGVjdG9yIiwiZm9yRWxlbWVudCIsInRhcmdldFRhZ05hbWUiLCJjYW5jZWxOZXh0Q2xpY2siLCJlbGVtZW50RnJvbVBvaW50IiwicGFnZVhPZmZzZXQiLCJwYWdlWU9mZnNldCIsInRvcCIsImNhbmNlbGFibGUiLCJzdG9wUHJvcGFnYXRpb24iLCJwZXJtaXR0ZWQiLCJkZXRhaWwiLCJkZXN0cm95IiwibWV0YVZpZXdwb3J0IiwiY2hyb21lVmVyc2lvbiIsIm9udG91Y2hzdGFydCIsImNvbnRlbnQiLCJpbm5lcldpZHRoIiwic2NyZWVuIiwid2lkdGgiLCJtc1RvdWNoQWN0aW9uIiwiYXR0YWNoIiwiYW1kIiwiYXJyIiwib2JqIiwiQ2xhc3NMaXN0IiwiZWwiLCJsaXN0IiwiY2xhc3NMaXN0IiwiaW5kZXgiLCJyZSIsInRvU3RyaW5nIiwiYWRkIiwiYXJyYXkiLCJyZW1vdmUiLCJyZW1vdmVNYXRjaGluZyIsInNwbGljZSIsInRvZ2dsZSIsImZvcmNlIiwiaGFzIiwic3RyIiwicmVwbGFjZSIsInNoaWZ0IiwiYmluZCIsInVuYmluZCIsInByZWZpeCIsImZuIiwib25lIiwic2VsZWN0b3IiLCJhbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZW5naW5lIiwibWF0Y2giLCJub2RlcyIsInF1ZXJ5IiwicHJvdG8iLCJFbGVtZW50IiwibWF0Y2hlcyIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsImNoZWNrWW9TZWxmIiwicm9vdCIsImNsb3Nlc3QiLCJlIiwic3JjRWxlbWVudCIsImRlbGVnYXRlVGFyZ2V0IiwiRXZlbnRzIiwiX2V2ZW50cyIsInBhcnNlIiwicGFydHMiLCJldmVudHMiLCJkZWxlZ2F0ZSIsInN1YiIsIm1ldGhvZCIsImNiIiwic2xpY2UiLCJhcmdzIiwidW5iaW5kQWxsIiwidW5iaW5kQWxsT2YiLCJiaW5kaW5ncyIsIlN3aXRjaGVyeSIsIm9wdGlvbnMiLCJkZWZhdWx0cyIsImlzRGlzYWJsZWQiLCJkaXNhYmxlIiwidHJhbnNpdGlvbml6ZSIsImZhc3RjbGljayIsImNsYXNzZXMiLCJjb2xvciIsInNlY29uZGFyeUNvbG9yIiwiamFja0NvbG9yIiwiamFja1NlY29uZGFyeUNvbG9yIiwiZGlzYWJsZWRPcGFjaXR5Iiwic3BlZWQiLCJzaXplIiwiaGlkZSIsImRpc3BsYXkiLCJzaG93Iiwic3dpdGNoZXIiLCJjcmVhdGUiLCJpbnNlcnRBZnRlciIsImNyZWF0ZUVsZW1lbnQiLCJqYWNrIiwiYXBwZW5kQ2hpbGQiLCJyZWZlcmVuY2UiLCJpbnNlcnRCZWZvcmUiLCJuZXh0U2libGluZyIsInNldFBvc2l0aW9uIiwiY2xpY2tlZCIsImNoZWNrZWQiLCJpc0NoZWNrZWQiLCJnZXRDb21wdXRlZFN0eWxlIiwibGVmdCIsImN1cnJlbnRTdHlsZSIsImNvbG9yaXplIiwic2V0U3BlZWQiLCJib3hTaGFkb3ciLCJib3JkZXJDb2xvciIsImJhY2tncm91bmRDb2xvciIsInN3aXRjaGVyUHJvcCIsImphY2tQcm9wIiwiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlciIsImJveC1zaGFkb3ciLCJzZXRTaXplIiwic21hbGwiLCJub3JtYWwiLCJsYXJnZSIsInN3aXRjaGVySGVpZ2h0IiwiaGFuZGxlT25jaGFuZ2UiLCJzdGF0ZSIsImluaXRFdmVudCIsImZpcmVFdmVudCIsImhhbmRsZUNoYW5nZSIsImF0dGFjaEV2ZW50IiwiaGFuZGxlQ2xpY2siLCJiaW5kQ2xpY2siLCJwYXJlbnQiLCJsYWJlbFBhcmVudCIsIm1hcmtBc1N3aXRjaGVkIiwic2V0QXR0cmlidXRlIiwibWFya2VkQXNTd2l0Y2hlZCIsImdldEF0dHJpYnV0ZSIsImVuYWJsZSIsIm9wYWNpdHkiXSwibWFwcGluZ3MiOiJDQUNDLFdBVUQsUUFBU0EsR0FBUUMsR0FDZixHQUFJQyxHQUFTRixFQUFRRyxRQUFRRixFQUM3QixLQUFLQyxFQUFRLEtBQU0sSUFBSUUsT0FBTSxzQkFBd0JILEVBQU8sSUFRNUQsT0FOTSxXQUFhQyxJQUF3QyxrQkFBdEJBLEdBQU9HLGFBQzFDSCxFQUFPSSxPQUFTSixFQUFPSyxXQUFZLEVBQ25DTCxFQUFPRyxXQUFXRyxLQUFLQyxLQUFNUCxFQUFPUSxXQUFjUixTQUMzQ0EsR0FBT0csWUFHVEgsRUFBT1EsUUFPaEJWLEVBQVFXLE9BQVMsWUFLakJYLEVBQVFZLFVBQ1JaLEVBQVFZLE9BQU9DLFdBQWEsU0FBU0MsRUFBR0MsR0FHdEMsSUFBSyxHQUZEQyxHQUFTRixFQUFFRyxRQUFRQyxNQUFNLEtBQ3pCQyxFQUFTSixFQUFFRSxRQUFRQyxNQUFNLEtBQ3BCRSxFQUFFLEVBQUdBLEVBQUVKLEVBQU9LLFNBQVVELEVBQUcsQ0FDbEMsR0FBSUUsR0FBT0MsU0FBU1AsRUFBT0ksR0FBSSxJQUMzQkksRUFBT0QsU0FBU0osRUFBT0MsR0FBSSxHQUMvQixJQUFJRSxJQUFTRSxFQU9OLE1BQUlGLEdBQU9FLEVBQ1QsSUFQUCxJQUFJQyxHQUFPVCxFQUFPSSxHQUFHTSxRQUFRLEdBQUdKLEdBQU1ELFFBQ2xDTSxFQUFPUixFQUFPQyxHQUFHTSxRQUFRLEdBQUdGLEdBQU1ILE9BQ3RDLElBQWEsS0FBVEksR0FBd0IsS0FBVEUsRUFBYSxNQUFPLEVBQ3ZDLElBQWEsS0FBVEYsR0FBd0IsS0FBVEUsRUFBYSxRQUNoQyxJQUFhLEtBQVRGLEdBQXdCLEtBQVRFLEVBQWEsTUFBT0YsR0FBT0UsRUFBTyxL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VXRCN0IsRUFBVXJNLFVBQVV3TSxXQUFhLFdBQy9CLE1BQU9wUCxNQUFLa1AsUUFBUTlJLFVBQVlwRyxLQUFLeUMsUUFBUTJELFVBQVlwRyxLQUFLeUMsUUFBUThELFVBU3hFMEksRUFBVXJNLFVBQVUrSCxRQUFVLFdBQzVCM0ssS0FBS3VPLE9BQU81QixVQVNkc0MsRUFBVXJNLFVBQVVvUSxPQUFTLFdBQ3RCaFQsS0FBS2tQLFFBQVE5SSxXQUNkcEcsS0FBS2tQLFFBQVE5SSxXQUFVcEcsS0FBS2tQLFFBQVE5SSxVQUFXLEdBQy9DcEcsS0FBS3lDLFFBQVEyRCxXQUFVcEcsS0FBS3lDLFFBQVEyRCxVQUFXLEdBQy9DcEcsS0FBS3lDLFFBQVE4RCxXQUFVdkcsS0FBS3lDLFFBQVE4RCxVQUFXLEdBQ25EdkcsS0FBS21RLFNBQVNoTixNQUFNOFAsUUFBVSxFQUM5QmpULEtBQUt1TyxPQUFPN0IsS0FBSyxRQUFTLGVBUzVCdUMsRUFBVXJNLFVBQVV5TSxRQUFVLFdBQ3hCclAsS0FBS2tQLFFBQVE5SSxXQUNacEcsS0FBS2tQLFFBQVE5SSxXQUFVcEcsS0FBS2tQLFFBQVE5SSxVQUFXLEdBQy9DcEcsS0FBS3lDLFFBQVEyRCxXQUFVcEcsS0FBS3lDLFFBQVEyRCxVQUFXLEdBQy9DcEcsS0FBS3lDLFFBQVE4RCxXQUFVdkcsS0FBS3lDLFFBQVE4RCxVQUFXLEdBQ3BEdkcsS0FBS21RLFNBQVNoTixNQUFNOFAsUUFBVWpULEtBQUtrUCxRQUFRVyxnQkFDM0M3UCxLQUFLMkssY0FLZSxnQkFBWDFLLFNBQ1RSLE9BQU9RLFFBQVVWLEVBQVEsYUFDQyxrQkFBVmdELFNBQXdCQSxPQUFPOEksSUFDL0M5SSxPQUFPLGVBQWlCLFdBQVksTUFBT2hELEdBQVEsZ0JBRWxEUyxNQUFRa0gsUUFBbUIsVUFBSTNILEVBQVEiLCJmaWxlIjoic3dpdGNoZXJ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG47KGZ1bmN0aW9uKCl7XG5cbi8qKlxuICogUmVxdWlyZSB0aGUgbW9kdWxlIGF0IGBuYW1lYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7T2JqZWN0fSBleHBvcnRzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHJlcXVpcmUobmFtZSkge1xuICB2YXIgbW9kdWxlID0gcmVxdWlyZS5tb2R1bGVzW25hbWVdO1xuICBpZiAoIW1vZHVsZSkgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gcmVxdWlyZSBcIicgKyBuYW1lICsgJ1wiJyk7XG5cbiAgaWYgKCEoJ2V4cG9ydHMnIGluIG1vZHVsZSkgJiYgdHlwZW9mIG1vZHVsZS5kZWZpbml0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbW9kdWxlLmNsaWVudCA9IG1vZHVsZS5jb21wb25lbnQgPSB0cnVlO1xuICAgIG1vZHVsZS5kZWZpbml0aW9uLmNhbGwodGhpcywgbW9kdWxlLmV4cG9ydHMgPSB7fSwgbW9kdWxlKTtcbiAgICBkZWxldGUgbW9kdWxlLmRlZmluaXRpb247XG4gIH1cblxuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8qKlxuICogTWV0YSBpbmZvLCBhY2Nlc3NpYmxlIGluIHRoZSBnbG9iYWwgc2NvcGUgdW5sZXNzIHlvdSB1c2UgQU1EIG9wdGlvbi5cbiAqL1xuXG5yZXF1aXJlLmxvYWRlciA9ICdjb21wb25lbnQnO1xuXG4vKipcbiAqIEludGVybmFsIGhlbHBlciBvYmplY3QsIGNvbnRhaW5zIGEgc29ydGluZyBmdW5jdGlvbiBmb3Igc2VtYW50aXYgdmVyc2lvbmluZ1xuICovXG5yZXF1aXJlLmhlbHBlciA9IHt9O1xucmVxdWlyZS5oZWxwZXIuc2VtVmVyU29ydCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGFBcnJheSA9IGEudmVyc2lvbi5zcGxpdCgnLicpO1xuICB2YXIgYkFycmF5ID0gYi52ZXJzaW9uLnNwbGl0KCcuJyk7XG4gIGZvciAodmFyIGk9MDsgaTxhQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgYUludCA9IHBhcnNlSW50KGFBcnJheVtpXSwgMTApO1xuICAgIHZhciBiSW50ID0gcGFyc2VJbnQoYkFycmF5W2ldLCAxMCk7XG4gICAgaWYgKGFJbnQgPT09IGJJbnQpIHtcbiAgICAgIHZhciBhTGV4ID0gYUFycmF5W2ldLnN1YnN0cigoXCJcIithSW50KS5sZW5ndGgpO1xuICAgICAgdmFyIGJMZXggPSBiQXJyYXlbaV0uc3Vic3RyKChcIlwiK2JJbnQpLmxlbmd0aCk7XG4gICAgICBpZiAoYUxleCA9PT0gJycgJiYgYkxleCAhPT0gJycpIHJldHVybiAxO1xuICAgICAgaWYgKGFMZXggIT09ICcnICYmIGJMZXggPT09ICcnKSByZXR1cm4gLTE7XG4gICAgICBpZiAoYUxleCAhPT0gJycgJiYgYkxleCAhPT0gJycpIHJldHVybiBhTGV4ID4gYkxleCA/IDEgOiAtMTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAoYUludCA+IGJJbnQpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIEZpbmQgYW5kIHJlcXVpcmUgYSBtb2R1bGUgd2hpY2ggbmFtZSBzdGFydHMgd2l0aCB0aGUgcHJvdmlkZWQgbmFtZS5cbiAqIElmIG11bHRpcGxlIG1vZHVsZXMgZXhpc3RzLCB0aGUgaGlnaGVzdCBzZW12ZXIgaXMgdXNlZC5cbiAqIFRoaXMgZnVuY3Rpb24gY2FuIG9ubHkgYmUgdXNlZCBmb3IgcmVtb3RlIGRlcGVuZGVuY2llcy5cblxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBtb2R1bGUgbmFtZTogYHVzZXJ+cmVwb2BcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcmV0dXJuUGF0aCAtIHJldHVybnMgdGhlIGNhbm9uaWNhbCByZXF1aXJlIHBhdGggaWYgdHJ1ZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBpdCByZXR1cm5zIHRoZSBlcHhvcnRlZCBtb2R1bGVcbiAqL1xucmVxdWlyZS5sYXRlc3QgPSBmdW5jdGlvbiAobmFtZSwgcmV0dXJuUGF0aCkge1xuICBmdW5jdGlvbiBzaG93RXJyb3IobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIGZpbmQgbGF0ZXN0IG1vZHVsZSBvZiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gIH1cbiAgLy8gb25seSByZW1vdGVzIHdpdGggc2VtdmVycywgaWdub3JlIGxvY2FsIGZpbGVzIGNvbmF0YWluaW5nIGEgJy8nXG4gIHZhciB2ZXJzaW9uUmVnZXhwID0gLyguKil+KC4qKUB2PyhcXGQrXFwuXFxkK1xcLlxcZCtbXlxcL10qKSQvO1xuICB2YXIgcmVtb3RlUmVnZXhwID0gLyguKil+KC4qKS87XG4gIGlmICghcmVtb3RlUmVnZXhwLnRlc3QobmFtZSkpIHNob3dFcnJvcihuYW1lKTtcbiAgdmFyIG1vZHVsZU5hbWVzID0gT2JqZWN0LmtleXMocmVxdWlyZS5tb2R1bGVzKTtcbiAgdmFyIHNlbVZlckNhbmRpZGF0ZXMgPSBbXTtcbiAgdmFyIG90aGVyQ2FuZGlkYXRlcyA9IFtdOyAvLyBmb3IgaW5zdGFuY2U6IG5hbWUgb2YgdGhlIGdpdCBicmFuY2hcbiAgZm9yICh2YXIgaT0wOyBpPG1vZHVsZU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lc1tpXTtcbiAgICBpZiAobmV3IFJlZ0V4cChuYW1lICsgJ0AnKS50ZXN0KG1vZHVsZU5hbWUpKSB7XG4gICAgICAgIHZhciB2ZXJzaW9uID0gbW9kdWxlTmFtZS5zdWJzdHIobmFtZS5sZW5ndGgrMSk7XG4gICAgICAgIHZhciBzZW1WZXJNYXRjaCA9IHZlcnNpb25SZWdleHAuZXhlYyhtb2R1bGVOYW1lKTtcbiAgICAgICAgaWYgKHNlbVZlck1hdGNoICE9IG51bGwpIHtcbiAgICAgICAgICBzZW1WZXJDYW5kaWRhdGVzLnB1c2goe3ZlcnNpb246IHZlcnNpb24sIG5hbWU6IG1vZHVsZU5hbWV9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdGhlckNhbmRpZGF0ZXMucHVzaCh7dmVyc2lvbjogdmVyc2lvbiwgbmFtZTogbW9kdWxlTmFtZX0pO1xuICAgICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChzZW1WZXJDYW5kaWRhdGVzLmNvbmNhdChvdGhlckNhbmRpZGF0ZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgIHNob3dFcnJvcihuYW1lKTtcbiAgfVxuICBpZiAoc2VtVmVyQ2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIG1vZHVsZSA9IHNlbVZlckNhbmRpZGF0ZXMuc29ydChyZXF1aXJlLmhlbHBlci5zZW1WZXJTb3J0KS5wb3AoKS5uYW1lO1xuICAgIGlmIChyZXR1cm5QYXRoID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gbW9kdWxlO1xuICAgIH1cbiAgICByZXR1cm4gcmVxdWlyZShtb2R1bGUpO1xuICB9XG4gIC8vIGlmIHRoZSBidWlsZCBjb250YWlucyBtb3JlIHRoYW4gb25lIGJyYW5jaCBvZiB0aGUgc2FtZSBtb2R1bGVcbiAgLy8geW91IHNob3VsZCBub3QgdXNlIHRoaXMgZnVuY2l0b25cbiAgdmFyIG1vZHVsZSA9IG90aGVyQ2FuZGlkYXRlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtyZXR1cm4gYS5uYW1lID4gYi5uYW1lfSlbMF0ubmFtZTtcbiAgaWYgKHJldHVyblBhdGggPT09IHRydWUpIHtcbiAgICByZXR1cm4gbW9kdWxlO1xuICB9XG4gIHJldHVybiByZXF1aXJlKG1vZHVsZSk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJlZCBtb2R1bGVzLlxuICovXG5cbnJlcXVpcmUubW9kdWxlcyA9IHt9O1xuXG4vKipcbiAqIFJlZ2lzdGVyIG1vZHVsZSBhdCBgbmFtZWAgd2l0aCBjYWxsYmFjayBgZGVmaW5pdGlvbmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRlZmluaXRpb25cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbnJlcXVpcmUucmVnaXN0ZXIgPSBmdW5jdGlvbiAobmFtZSwgZGVmaW5pdGlvbikge1xuICByZXF1aXJlLm1vZHVsZXNbbmFtZV0gPSB7XG4gICAgZGVmaW5pdGlvbjogZGVmaW5pdGlvblxuICB9O1xufTtcblxuLyoqXG4gKiBEZWZpbmUgYSBtb2R1bGUncyBleHBvcnRzIGltbWVkaWF0ZWx5IHdpdGggYGV4cG9ydHNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge0dlbmVyaWN9IGV4cG9ydHNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbnJlcXVpcmUuZGVmaW5lID0gZnVuY3Rpb24gKG5hbWUsIGV4cG9ydHMpIHtcbiAgcmVxdWlyZS5tb2R1bGVzW25hbWVdID0ge1xuICAgIGV4cG9ydHM6IGV4cG9ydHNcbiAgfTtcbn07XG5yZXF1aXJlLnJlZ2lzdGVyKFwiYWJwZXRrb3Z+dHJhbnNpdGlvbml6ZUAwLjAuM1wiLCBmdW5jdGlvbiAoZXhwb3J0cywgbW9kdWxlKSB7XG5cbi8qKlxuICogVHJhbnNpdGlvbml6ZSAwLjAuMlxuICogaHR0cHM6Ly9naXRodWIuY29tL2FicGV0a292L3RyYW5zaXRpb25pemVcbiAqXG4gKiBBdXRob3JlZCBieSBBbGV4YW5kZXIgUGV0a292XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYWJwZXRrb3ZcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMywgQWxleGFuZGVyIFBldGtvdlxuICogTGljZW5zZTogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKlxuICovXG5cbi8qKlxuICogRXhwb3NlIGBUcmFuc2l0aW9uaXplYC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYW5zaXRpb25pemU7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBuZXcgVHJhbnNpdGlvbml6ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFRyYW5zaXRpb25pemUoZWxlbWVudCwgcHJvcHMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFRyYW5zaXRpb25pemUpKSByZXR1cm4gbmV3IFRyYW5zaXRpb25pemUoZWxlbWVudCwgcHJvcHMpO1xuXG4gIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIHRoaXMucHJvcHMgPSBwcm9wcyB8fCB7fTtcbiAgdGhpcy5pbml0KCk7XG59XG5cbi8qKlxuICogRGV0ZWN0IGlmIFNhZmFyaS5cbiAqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblRyYW5zaXRpb25pemUucHJvdG90eXBlLmlzU2FmYXJpID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoL1NhZmFyaS8pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgKC9BcHBsZSBDb21wdXRlci8pLnRlc3QobmF2aWdhdG9yLnZlbmRvcik7XG59O1xuXG4vKipcbiAqIExvb3AgdGhvdWdoIHRoZSBvYmplY3QgYW5kIHB1c2ggdGhlIGtleXMgYW5kIHZhbHVlcyBpbiBhbiBhcnJheS5cbiAqIEFwcGx5IHRoZSBDU1MzIHRyYW5zaXRpb24gdG8gdGhlIGVsZW1lbnQgYW5kIHByZWZpeCB3aXRoIC13ZWJraXQtIGZvciBTYWZhcmkuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuVHJhbnNpdGlvbml6ZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdHJhbnNpdGlvbnMgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wcykge1xuICAgIHRyYW5zaXRpb25zLnB1c2goa2V5ICsgJyAnICsgdGhpcy5wcm9wc1trZXldKTtcbiAgfVxuXG4gIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbnMuam9pbignLCAnKTtcbiAgaWYgKHRoaXMuaXNTYWZhcmkoKSkgdGhpcy5lbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSB0cmFuc2l0aW9ucy5qb2luKCcsICcpO1xufTtcbn0pO1xuXG5yZXF1aXJlLnJlZ2lzdGVyKFwiZnRsYWJzfmZhc3RjbGlja0B2MC42LjExXCIsIGZ1bmN0aW9uIChleHBvcnRzLCBtb2R1bGUpIHtcbi8qKlxuICogQHByZXNlcnZlIEZhc3RDbGljazogcG9seWZpbGwgdG8gcmVtb3ZlIGNsaWNrIGRlbGF5cyBvbiBicm93c2VycyB3aXRoIHRvdWNoIFVJcy5cbiAqXG4gKiBAdmVyc2lvbiAwLjYuMTFcbiAqIEBjb2RpbmdzdGFuZGFyZCBmdGxhYnMtanN2MlxuICogQGNvcHlyaWdodCBUaGUgRmluYW5jaWFsIFRpbWVzIExpbWl0ZWQgW0FsbCBSaWdodHMgUmVzZXJ2ZWRdXG4gKiBAbGljZW5zZSBNSVQgTGljZW5zZSAoc2VlIExJQ0VOU0UudHh0KVxuICovXG5cbi8qanNsaW50IGJyb3dzZXI6dHJ1ZSwgbm9kZTp0cnVlKi9cbi8qZ2xvYmFsIGRlZmluZSwgRXZlbnQsIE5vZGUqL1xuXG5cbi8qKlxuICogSW5zdGFudGlhdGUgZmFzdC1jbGlja2luZyBsaXN0ZW5lcnMgb24gdGhlIHNwZWNpZmljZWQgbGF5ZXIuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGxheWVyIFRoZSBsYXllciB0byBsaXN0ZW4gb25cbiAqL1xuZnVuY3Rpb24gRmFzdENsaWNrKGxheWVyKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIG9sZE9uQ2xpY2ssIHNlbGYgPSB0aGlzO1xuXG5cblx0LyoqXG5cdCAqIFdoZXRoZXIgYSBjbGljayBpcyBjdXJyZW50bHkgYmVpbmcgdHJhY2tlZC5cblx0ICpcblx0ICogQHR5cGUgYm9vbGVhblxuXHQgKi9cblx0dGhpcy50cmFja2luZ0NsaWNrID0gZmFsc2U7XG5cblxuXHQvKipcblx0ICogVGltZXN0YW1wIGZvciB3aGVuIHdoZW4gY2xpY2sgdHJhY2tpbmcgc3RhcnRlZC5cblx0ICpcblx0ICogQHR5cGUgbnVtYmVyXG5cdCAqL1xuXHR0aGlzLnRyYWNraW5nQ2xpY2tTdGFydCA9IDA7XG5cblxuXHQvKipcblx0ICogVGhlIGVsZW1lbnQgYmVpbmcgdHJhY2tlZCBmb3IgYSBjbGljay5cblx0ICpcblx0ICogQHR5cGUgRXZlbnRUYXJnZXRcblx0ICovXG5cdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cblxuXHQvKipcblx0ICogWC1jb29yZGluYXRlIG9mIHRvdWNoIHN0YXJ0IGV2ZW50LlxuXHQgKlxuXHQgKiBAdHlwZSBudW1iZXJcblx0ICovXG5cdHRoaXMudG91Y2hTdGFydFggPSAwO1xuXG5cblx0LyoqXG5cdCAqIFktY29vcmRpbmF0ZSBvZiB0b3VjaCBzdGFydCBldmVudC5cblx0ICpcblx0ICogQHR5cGUgbnVtYmVyXG5cdCAqL1xuXHR0aGlzLnRvdWNoU3RhcnRZID0gMDtcblxuXG5cdC8qKlxuXHQgKiBJRCBvZiB0aGUgbGFzdCB0b3VjaCwgcmV0cmlldmVkIGZyb20gVG91Y2guaWRlbnRpZmllci5cblx0ICpcblx0ICogQHR5cGUgbnVtYmVyXG5cdCAqL1xuXHR0aGlzLmxhc3RUb3VjaElkZW50aWZpZXIgPSAwO1xuXG5cblx0LyoqXG5cdCAqIFRvdWNobW92ZSBib3VuZGFyeSwgYmV5b25kIHdoaWNoIGEgY2xpY2sgd2lsbCBiZSBjYW5jZWxsZWQuXG5cdCAqXG5cdCAqIEB0eXBlIG51bWJlclxuXHQgKi9cblx0dGhpcy50b3VjaEJvdW5kYXJ5ID0gMTA7XG5cblxuXHQvKipcblx0ICogVGhlIEZhc3RDbGljayBsYXllci5cblx0ICpcblx0ICogQHR5cGUgRWxlbWVudFxuXHQgKi9cblx0dGhpcy5sYXllciA9IGxheWVyO1xuXG5cdGlmICghbGF5ZXIgfHwgIWxheWVyLm5vZGVUeXBlKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignTGF5ZXIgbXVzdCBiZSBhIGRvY3VtZW50IG5vZGUnKTtcblx0fVxuXG5cdC8qKiBAdHlwZSBmdW5jdGlvbigpICovXG5cdHRoaXMub25DbGljayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gRmFzdENsaWNrLnByb3RvdHlwZS5vbkNsaWNrLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH07XG5cblx0LyoqIEB0eXBlIGZ1bmN0aW9uKCkgKi9cblx0dGhpcy5vbk1vdXNlID0gZnVuY3Rpb24oKSB7IHJldHVybiBGYXN0Q2xpY2sucHJvdG90eXBlLm9uTW91c2UuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfTtcblxuXHQvKiogQHR5cGUgZnVuY3Rpb24oKSAqL1xuXHR0aGlzLm9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gRmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoU3RhcnQuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfTtcblxuXHQvKiogQHR5cGUgZnVuY3Rpb24oKSAqL1xuXHR0aGlzLm9uVG91Y2hNb3ZlID0gZnVuY3Rpb24oKSB7IHJldHVybiBGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hNb3ZlLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH07XG5cblx0LyoqIEB0eXBlIGZ1bmN0aW9uKCkgKi9cblx0dGhpcy5vblRvdWNoRW5kID0gZnVuY3Rpb24oKSB7IHJldHVybiBGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hFbmQuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfTtcblxuXHQvKiogQHR5cGUgZnVuY3Rpb24oKSAqL1xuXHR0aGlzLm9uVG91Y2hDYW5jZWwgPSBmdW5jdGlvbigpIHsgcmV0dXJuIEZhc3RDbGljay5wcm90b3R5cGUub25Ub3VjaENhbmNlbC5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9O1xuXG5cdGlmIChGYXN0Q2xpY2subm90TmVlZGVkKGxheWVyKSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFNldCB1cCBldmVudCBoYW5kbGVycyBhcyByZXF1aXJlZFxuXHRpZiAodGhpcy5kZXZpY2VJc0FuZHJvaWQpIHtcblx0XHRsYXllci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uTW91c2UsIHRydWUpO1xuXHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdH1cblxuXHRsYXllci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljaywgdHJ1ZSk7XG5cdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydCwgZmFsc2UpO1xuXHRsYXllci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLCBmYWxzZSk7XG5cdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kLCBmYWxzZSk7XG5cdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblRvdWNoQ2FuY2VsLCBmYWxzZSk7XG5cblx0Ly8gSGFjayBpcyByZXF1aXJlZCBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IEV2ZW50I3N0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiAoZS5nLiBBbmRyb2lkIDIpXG5cdC8vIHdoaWNoIGlzIGhvdyBGYXN0Q2xpY2sgbm9ybWFsbHkgc3RvcHMgY2xpY2sgZXZlbnRzIGJ1YmJsaW5nIHRvIGNhbGxiYWNrcyByZWdpc3RlcmVkIG9uIHRoZSBGYXN0Q2xpY2tcblx0Ly8gbGF5ZXIgd2hlbiB0aGV5IGFyZSBjYW5jZWxsZWQuXG5cdGlmICghRXZlbnQucHJvdG90eXBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikge1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBjYWxsYmFjaywgY2FwdHVyZSkge1xuXHRcdFx0dmFyIHJtdiA9IE5vZGUucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI7XG5cdFx0XHRpZiAodHlwZSA9PT0gJ2NsaWNrJykge1xuXHRcdFx0XHRybXYuY2FsbChsYXllciwgdHlwZSwgY2FsbGJhY2suaGlqYWNrZWQgfHwgY2FsbGJhY2ssIGNhcHR1cmUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cm12LmNhbGwobGF5ZXIsIHR5cGUsIGNhbGxiYWNrLCBjYXB0dXJlKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGNhbGxiYWNrLCBjYXB0dXJlKSB7XG5cdFx0XHR2YXIgYWR2ID0gTm9kZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcjtcblx0XHRcdGlmICh0eXBlID09PSAnY2xpY2snKSB7XG5cdFx0XHRcdGFkdi5jYWxsKGxheWVyLCB0eXBlLCBjYWxsYmFjay5oaWphY2tlZCB8fCAoY2FsbGJhY2suaGlqYWNrZWQgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdGlmICghZXZlbnQucHJvcGFnYXRpb25TdG9wcGVkKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayhldmVudCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KSwgY2FwdHVyZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhZHYuY2FsbChsYXllciwgdHlwZSwgY2FsbGJhY2ssIGNhcHR1cmUpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvLyBJZiBhIGhhbmRsZXIgaXMgYWxyZWFkeSBkZWNsYXJlZCBpbiB0aGUgZWxlbWVudCdzIG9uY2xpY2sgYXR0cmlidXRlLCBpdCB3aWxsIGJlIGZpcmVkIGJlZm9yZVxuXHQvLyBGYXN0Q2xpY2sncyBvbkNsaWNrIGhhbmRsZXIuIEZpeCB0aGlzIGJ5IHB1bGxpbmcgb3V0IHRoZSB1c2VyLWRlZmluZWQgaGFuZGxlciBmdW5jdGlvbiBhbmRcblx0Ly8gYWRkaW5nIGl0IGFzIGxpc3RlbmVyLlxuXHRpZiAodHlwZW9mIGxheWVyLm9uY2xpY2sgPT09ICdmdW5jdGlvbicpIHtcblxuXHRcdC8vIEFuZHJvaWQgYnJvd3NlciBvbiBhdCBsZWFzdCAzLjIgcmVxdWlyZXMgYSBuZXcgcmVmZXJlbmNlIHRvIHRoZSBmdW5jdGlvbiBpbiBsYXllci5vbmNsaWNrXG5cdFx0Ly8gLSB0aGUgb2xkIG9uZSB3b24ndCB3b3JrIGlmIHBhc3NlZCB0byBhZGRFdmVudExpc3RlbmVyIGRpcmVjdGx5LlxuXHRcdG9sZE9uQ2xpY2sgPSBsYXllci5vbmNsaWNrO1xuXHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdG9sZE9uQ2xpY2soZXZlbnQpO1xuXHRcdH0sIGZhbHNlKTtcblx0XHRsYXllci5vbmNsaWNrID0gbnVsbDtcblx0fVxufVxuXG5cbi8qKlxuICogQW5kcm9pZCByZXF1aXJlcyBleGNlcHRpb25zLlxuICpcbiAqIEB0eXBlIGJvb2xlYW5cbiAqL1xuRmFzdENsaWNrLnByb3RvdHlwZS5kZXZpY2VJc0FuZHJvaWQgPSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0FuZHJvaWQnKSA+IDA7XG5cblxuLyoqXG4gKiBpT1MgcmVxdWlyZXMgZXhjZXB0aW9ucy5cbiAqXG4gKiBAdHlwZSBib29sZWFuXG4gKi9cbkZhc3RDbGljay5wcm90b3R5cGUuZGV2aWNlSXNJT1MgPSAvaVAoYWR8aG9uZXxvZCkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cblxuLyoqXG4gKiBpT1MgNCByZXF1aXJlcyBhbiBleGNlcHRpb24gZm9yIHNlbGVjdCBlbGVtZW50cy5cbiAqXG4gKiBAdHlwZSBib29sZWFuXG4gKi9cbkZhc3RDbGljay5wcm90b3R5cGUuZGV2aWNlSXNJT1M0ID0gRmFzdENsaWNrLnByb3RvdHlwZS5kZXZpY2VJc0lPUyAmJiAoL09TIDRfXFxkKF9cXGQpPy8pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cblxuLyoqXG4gKiBpT1MgNi4wKCs/KSByZXF1aXJlcyB0aGUgdGFyZ2V0IGVsZW1lbnQgdG8gYmUgbWFudWFsbHkgZGVyaXZlZFxuICpcbiAqIEB0eXBlIGJvb2xlYW5cbiAqL1xuRmFzdENsaWNrLnByb3RvdHlwZS5kZXZpY2VJc0lPU1dpdGhCYWRUYXJnZXQgPSBGYXN0Q2xpY2sucHJvdG90eXBlLmRldmljZUlzSU9TICYmICgvT1MgKFs2LTldfFxcZHsyfSlfXFxkLykudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIGEgZ2l2ZW4gZWxlbWVudCByZXF1aXJlcyBhIG5hdGl2ZSBjbGljay5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgRE9NIGVsZW1lbnRcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgbmVlZHMgYSBuYXRpdmUgY2xpY2tcbiAqL1xuRmFzdENsaWNrLnByb3RvdHlwZS5uZWVkc0NsaWNrID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0c3dpdGNoICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuXG5cdC8vIERvbid0IHNlbmQgYSBzeW50aGV0aWMgY2xpY2sgdG8gZGlzYWJsZWQgaW5wdXRzIChpc3N1ZSAjNjIpXG5cdGNhc2UgJ2J1dHRvbic6XG5cdGNhc2UgJ3NlbGVjdCc6XG5cdGNhc2UgJ3RleHRhcmVhJzpcblx0XHRpZiAodGFyZ2V0LmRpc2FibGVkKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRicmVhaztcblx0Y2FzZSAnaW5wdXQnOlxuXG5cdFx0Ly8gRmlsZSBpbnB1dHMgbmVlZCByZWFsIGNsaWNrcyBvbiBpT1MgNiBkdWUgdG8gYSBicm93c2VyIGJ1ZyAoaXNzdWUgIzY4KVxuXHRcdGlmICgodGhpcy5kZXZpY2VJc0lPUyAmJiB0YXJnZXQudHlwZSA9PT0gJ2ZpbGUnKSB8fCB0YXJnZXQuZGlzYWJsZWQpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGJyZWFrO1xuXHRjYXNlICdsYWJlbCc6XG5cdGNhc2UgJ3ZpZGVvJzpcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHJldHVybiAoL1xcYm5lZWRzY2xpY2tcXGIvKS50ZXN0KHRhcmdldC5jbGFzc05hbWUpO1xufTtcblxuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIGEgZ2l2ZW4gZWxlbWVudCByZXF1aXJlcyBhIGNhbGwgdG8gZm9jdXMgdG8gc2ltdWxhdGUgY2xpY2sgaW50byBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR8RWxlbWVudH0gdGFyZ2V0IFRhcmdldCBET00gZWxlbWVudFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZWxlbWVudCByZXF1aXJlcyBhIGNhbGwgdG8gZm9jdXMgdG8gc2ltdWxhdGUgbmF0aXZlIGNsaWNrLlxuICovXG5GYXN0Q2xpY2sucHJvdG90eXBlLm5lZWRzRm9jdXMgPSBmdW5jdGlvbih0YXJnZXQpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRzd2l0Y2ggKHRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG5cdGNhc2UgJ3RleHRhcmVhJzpcblx0XHRyZXR1cm4gdHJ1ZTtcblx0Y2FzZSAnc2VsZWN0Jzpcblx0XHRyZXR1cm4gIXRoaXMuZGV2aWNlSXNBbmRyb2lkO1xuXHRjYXNlICdpbnB1dCc6XG5cdFx0c3dpdGNoICh0YXJnZXQudHlwZSkge1xuXHRcdGNhc2UgJ2J1dHRvbic6XG5cdFx0Y2FzZSAnY2hlY2tib3gnOlxuXHRcdGNhc2UgJ2ZpbGUnOlxuXHRcdGNhc2UgJ2ltYWdlJzpcblx0XHRjYXNlICdyYWRpbyc6XG5cdFx0Y2FzZSAnc3VibWl0Jzpcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBObyBwb2ludCBpbiBhdHRlbXB0aW5nIHRvIGZvY3VzIGRpc2FibGVkIGlucHV0c1xuXHRcdHJldHVybiAhdGFyZ2V0LmRpc2FibGVkICYmICF0YXJnZXQucmVhZE9ubHk7XG5cdGRlZmF1bHQ6XG5cdFx0cmV0dXJuICgvXFxibmVlZHNmb2N1c1xcYi8pLnRlc3QodGFyZ2V0LmNsYXNzTmFtZSk7XG5cdH1cbn07XG5cblxuLyoqXG4gKiBTZW5kIGEgY2xpY2sgZXZlbnQgdG8gdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR8RWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqL1xuRmFzdENsaWNrLnByb3RvdHlwZS5zZW5kQ2xpY2sgPSBmdW5jdGlvbih0YXJnZXRFbGVtZW50LCBldmVudCkge1xuXHQndXNlIHN0cmljdCc7XG5cdHZhciBjbGlja0V2ZW50LCB0b3VjaDtcblxuXHQvLyBPbiBzb21lIEFuZHJvaWQgZGV2aWNlcyBhY3RpdmVFbGVtZW50IG5lZWRzIHRvIGJlIGJsdXJyZWQgb3RoZXJ3aXNlIHRoZSBzeW50aGV0aWMgY2xpY2sgd2lsbCBoYXZlIG5vIGVmZmVjdCAoIzI0KVxuXHRpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0YXJnZXRFbGVtZW50KSB7XG5cdFx0ZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG5cdH1cblxuXHR0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuXG5cdC8vIFN5bnRoZXNpc2UgYSBjbGljayBldmVudCwgd2l0aCBhbiBleHRyYSBhdHRyaWJ1dGUgc28gaXQgY2FuIGJlIHRyYWNrZWRcblx0Y2xpY2tFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuXHRjbGlja0V2ZW50LmluaXRNb3VzZUV2ZW50KHRoaXMuZGV0ZXJtaW5lRXZlbnRUeXBlKHRhcmdldEVsZW1lbnQpLCB0cnVlLCB0cnVlLCB3aW5kb3csIDEsIHRvdWNoLnNjcmVlblgsIHRvdWNoLnNjcmVlblksIHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFksIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcblx0Y2xpY2tFdmVudC5mb3J3YXJkZWRUb3VjaEV2ZW50ID0gdHJ1ZTtcblx0dGFyZ2V0RWxlbWVudC5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQpO1xufTtcblxuRmFzdENsaWNrLnByb3RvdHlwZS5kZXRlcm1pbmVFdmVudFR5cGUgPSBmdW5jdGlvbih0YXJnZXRFbGVtZW50KSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHQvL0lzc3VlICMxNTk6IEFuZHJvaWQgQ2hyb21lIFNlbGVjdCBCb3ggZG9lcyBub3Qgb3BlbiB3aXRoIGEgc3ludGhldGljIGNsaWNrIGV2ZW50XG5cdGlmICh0aGlzLmRldmljZUlzQW5kcm9pZCAmJiB0YXJnZXRFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlbGVjdCcpIHtcblx0XHRyZXR1cm4gJ21vdXNlZG93bic7XG5cdH1cblxuXHRyZXR1cm4gJ2NsaWNrJztcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fEVsZW1lbnR9IHRhcmdldEVsZW1lbnRcbiAqL1xuRmFzdENsaWNrLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uKHRhcmdldEVsZW1lbnQpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgbGVuZ3RoO1xuXG5cdC8vIElzc3VlICMxNjA6IG9uIGlPUyA3LCBzb21lIGlucHV0IGVsZW1lbnRzIChlLmcuIGRhdGUgZGF0ZXRpbWUpIHRocm93IGEgdmFndWUgVHlwZUVycm9yIG9uIHNldFNlbGVjdGlvblJhbmdlLiBUaGVzZSBlbGVtZW50cyBkb24ndCBoYXZlIGFuIGludGVnZXIgdmFsdWUgZm9yIHRoZSBzZWxlY3Rpb25TdGFydCBhbmQgc2VsZWN0aW9uRW5kIHByb3BlcnRpZXMsIGJ1dCB1bmZvcnR1bmF0ZWx5IHRoYXQgY2FuJ3QgYmUgdXNlZCBmb3IgZGV0ZWN0aW9uIGJlY2F1c2UgYWNjZXNzaW5nIHRoZSBwcm9wZXJ0aWVzIGFsc28gdGhyb3dzIGEgVHlwZUVycm9yLiBKdXN0IGNoZWNrIHRoZSB0eXBlIGluc3RlYWQuIEZpbGVkIGFzIEFwcGxlIGJ1ZyAjMTUxMjI3MjQuXG5cdGlmICh0aGlzLmRldmljZUlzSU9TICYmIHRhcmdldEVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UgJiYgdGFyZ2V0RWxlbWVudC50eXBlLmluZGV4T2YoJ2RhdGUnKSAhPT0gMCAmJiB0YXJnZXRFbGVtZW50LnR5cGUgIT09ICd0aW1lJykge1xuXHRcdGxlbmd0aCA9IHRhcmdldEVsZW1lbnQudmFsdWUubGVuZ3RoO1xuXHRcdHRhcmdldEVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UobGVuZ3RoLCBsZW5ndGgpO1xuXHR9IGVsc2Uge1xuXHRcdHRhcmdldEVsZW1lbnQuZm9jdXMoKTtcblx0fVxufTtcblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHRhcmdldCBlbGVtZW50IGlzIGEgY2hpbGQgb2YgYSBzY3JvbGxhYmxlIGxheWVyIGFuZCBpZiBzbywgc2V0IGEgZmxhZyBvbiBpdC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fEVsZW1lbnR9IHRhcmdldEVsZW1lbnRcbiAqL1xuRmFzdENsaWNrLnByb3RvdHlwZS51cGRhdGVTY3JvbGxQYXJlbnQgPSBmdW5jdGlvbih0YXJnZXRFbGVtZW50KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIHNjcm9sbFBhcmVudCwgcGFyZW50RWxlbWVudDtcblxuXHRzY3JvbGxQYXJlbnQgPSB0YXJnZXRFbGVtZW50LmZhc3RDbGlja1Njcm9sbFBhcmVudDtcblxuXHQvLyBBdHRlbXB0IHRvIGRpc2NvdmVyIHdoZXRoZXIgdGhlIHRhcmdldCBlbGVtZW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gYSBzY3JvbGxhYmxlIGxheWVyLiBSZS1jaGVjayBpZiB0aGVcblx0Ly8gdGFyZ2V0IGVsZW1lbnQgd2FzIG1vdmVkIHRvIGFub3RoZXIgcGFyZW50LlxuXHRpZiAoIXNjcm9sbFBhcmVudCB8fCAhc2Nyb2xsUGFyZW50LmNvbnRhaW5zKHRhcmdldEVsZW1lbnQpKSB7XG5cdFx0cGFyZW50RWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7XG5cdFx0ZG8ge1xuXHRcdFx0aWYgKHBhcmVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gcGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpIHtcblx0XHRcdFx0c2Nyb2xsUGFyZW50ID0gcGFyZW50RWxlbWVudDtcblx0XHRcdFx0dGFyZ2V0RWxlbWVudC5mYXN0Q2xpY2tTY3JvbGxQYXJlbnQgPSBwYXJlbnRFbGVtZW50O1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0cGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcblx0XHR9IHdoaWxlIChwYXJlbnRFbGVtZW50KTtcblx0fVxuXG5cdC8vIEFsd2F5cyB1cGRhdGUgdGhlIHNjcm9sbCB0b3AgdHJhY2tlciBpZiBwb3NzaWJsZS5cblx0aWYgKHNjcm9sbFBhcmVudCkge1xuXHRcdHNjcm9sbFBhcmVudC5mYXN0Q2xpY2tMYXN0U2Nyb2xsVG9wID0gc2Nyb2xsUGFyZW50LnNjcm9sbFRvcDtcblx0fVxufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldEVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fEV2ZW50VGFyZ2V0fVxuICovXG5GYXN0Q2xpY2sucHJvdG90eXBlLmdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQgPSBmdW5jdGlvbihldmVudFRhcmdldCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0Ly8gT24gc29tZSBvbGRlciBicm93c2VycyAobm90YWJseSBTYWZhcmkgb24gaU9TIDQuMSAtIHNlZSBpc3N1ZSAjNTYpIHRoZSBldmVudCB0YXJnZXQgbWF5IGJlIGEgdGV4dCBub2RlLlxuXHRpZiAoZXZlbnRUYXJnZXQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG5cdFx0cmV0dXJuIGV2ZW50VGFyZ2V0LnBhcmVudE5vZGU7XG5cdH1cblxuXHRyZXR1cm4gZXZlbnRUYXJnZXQ7XG59O1xuXG5cbi8qKlxuICogT24gdG91Y2ggc3RhcnQsIHJlY29yZCB0aGUgcG9zaXRpb24gYW5kIHNjcm9sbCBvZmZzZXQuXG4gKlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5GYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIHRhcmdldEVsZW1lbnQsIHRvdWNoLCBzZWxlY3Rpb247XG5cblx0Ly8gSWdub3JlIG11bHRpcGxlIHRvdWNoZXMsIG90aGVyd2lzZSBwaW5jaC10by16b29tIGlzIHByZXZlbnRlZCBpZiBib3RoIGZpbmdlcnMgYXJlIG9uIHRoZSBGYXN0Q2xpY2sgZWxlbWVudCAoaXNzdWUgIzExMSkuXG5cdGlmIChldmVudC50YXJnZXRUb3VjaGVzLmxlbmd0aCA+IDEpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHRhcmdldEVsZW1lbnQgPSB0aGlzLmdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQoZXZlbnQudGFyZ2V0KTtcblx0dG91Y2ggPSBldmVudC50YXJnZXRUb3VjaGVzWzBdO1xuXG5cdGlmICh0aGlzLmRldmljZUlzSU9TKSB7XG5cblx0XHQvLyBPbmx5IHRydXN0ZWQgZXZlbnRzIHdpbGwgZGVzZWxlY3QgdGV4dCBvbiBpT1MgKGlzc3VlICM0OSlcblx0XHRzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0aWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ICYmICFzZWxlY3Rpb24uaXNDb2xsYXBzZWQpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5kZXZpY2VJc0lPUzQpIHtcblxuXHRcdFx0Ly8gV2VpcmQgdGhpbmdzIGhhcHBlbiBvbiBpT1Mgd2hlbiBhbiBhbGVydCBvciBjb25maXJtIGRpYWxvZyBpcyBvcGVuZWQgZnJvbSBhIGNsaWNrIGV2ZW50IGNhbGxiYWNrIChpc3N1ZSAjMjMpOlxuXHRcdFx0Ly8gd2hlbiB0aGUgdXNlciBuZXh0IHRhcHMgYW55d2hlcmUgZWxzZSBvbiB0aGUgcGFnZSwgbmV3IHRvdWNoc3RhcnQgYW5kIHRvdWNoZW5kIGV2ZW50cyBhcmUgZGlzcGF0Y2hlZFxuXHRcdFx0Ly8gd2l0aCB0aGUgc2FtZSBpZGVudGlmaWVyIGFzIHRoZSB0b3VjaCBldmVudCB0aGF0IHByZXZpb3VzbHkgdHJpZ2dlcmVkIHRoZSBjbGljayB0aGF0IHRyaWdnZXJlZCB0aGUgYWxlcnQuXG5cdFx0XHQvLyBTYWRseSwgdGhlcmUgaXMgYW4gaXNzdWUgb24gaU9TIDQgdGhhdCBjYXVzZXMgc29tZSBub3JtYWwgdG91Y2ggZXZlbnRzIHRvIGhhdmUgdGhlIHNhbWUgaWRlbnRpZmllciBhcyBhblxuXHRcdFx0Ly8gaW1tZWRpYXRlbHkgcHJlY2VlZGluZyB0b3VjaCBldmVudCAoaXNzdWUgIzUyKSwgc28gdGhpcyBmaXggaXMgdW5hdmFpbGFibGUgb24gdGhhdCBwbGF0Zm9ybS5cblx0XHRcdGlmICh0b3VjaC5pZGVudGlmaWVyID09PSB0aGlzLmxhc3RUb3VjaElkZW50aWZpZXIpIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmxhc3RUb3VjaElkZW50aWZpZXIgPSB0b3VjaC5pZGVudGlmaWVyO1xuXG5cdFx0XHQvLyBJZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgYSBjaGlsZCBvZiBhIHNjcm9sbGFibGUgbGF5ZXIgKHVzaW5nIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaCkgYW5kOlxuXHRcdFx0Ly8gMSkgdGhlIHVzZXIgZG9lcyBhIGZsaW5nIHNjcm9sbCBvbiB0aGUgc2Nyb2xsYWJsZSBsYXllclxuXHRcdFx0Ly8gMikgdGhlIHVzZXIgc3RvcHMgdGhlIGZsaW5nIHNjcm9sbCB3aXRoIGFub3RoZXIgdGFwXG5cdFx0XHQvLyB0aGVuIHRoZSBldmVudC50YXJnZXQgb2YgdGhlIGxhc3QgJ3RvdWNoZW5kJyBldmVudCB3aWxsIGJlIHRoZSBlbGVtZW50IHRoYXQgd2FzIHVuZGVyIHRoZSB1c2VyJ3MgZmluZ2VyXG5cdFx0XHQvLyB3aGVuIHRoZSBmbGluZyBzY3JvbGwgd2FzIHN0YXJ0ZWQsIGNhdXNpbmcgRmFzdENsaWNrIHRvIHNlbmQgYSBjbGljayBldmVudCB0byB0aGF0IGxheWVyIC0gdW5sZXNzIGEgY2hlY2tcblx0XHRcdC8vIGlzIG1hZGUgdG8gZW5zdXJlIHRoYXQgYSBwYXJlbnQgbGF5ZXIgd2FzIG5vdCBzY3JvbGxlZCBiZWZvcmUgc2VuZGluZyBhIHN5bnRoZXRpYyBjbGljayAoaXNzdWUgIzQyKS5cblx0XHRcdHRoaXMudXBkYXRlU2Nyb2xsUGFyZW50KHRhcmdldEVsZW1lbnQpO1xuXHRcdH1cblx0fVxuXG5cdHRoaXMudHJhY2tpbmdDbGljayA9IHRydWU7XG5cdHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0ID0gZXZlbnQudGltZVN0YW1wO1xuXHR0aGlzLnRhcmdldEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50O1xuXG5cdHRoaXMudG91Y2hTdGFydFggPSB0b3VjaC5wYWdlWDtcblx0dGhpcy50b3VjaFN0YXJ0WSA9IHRvdWNoLnBhZ2VZO1xuXG5cdC8vIFByZXZlbnQgcGhhbnRvbSBjbGlja3Mgb24gZmFzdCBkb3VibGUtdGFwIChpc3N1ZSAjMzYpXG5cdGlmICgoZXZlbnQudGltZVN0YW1wIC0gdGhpcy5sYXN0Q2xpY2tUaW1lKSA8IDIwMCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBCYXNlZCBvbiBhIHRvdWNobW92ZSBldmVudCBvYmplY3QsIGNoZWNrIHdoZXRoZXIgdGhlIHRvdWNoIGhhcyBtb3ZlZCBwYXN0IGEgYm91bmRhcnkgc2luY2UgaXQgc3RhcnRlZC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkZhc3RDbGljay5wcm90b3R5cGUudG91Y2hIYXNNb3ZlZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0sIGJvdW5kYXJ5ID0gdGhpcy50b3VjaEJvdW5kYXJ5O1xuXG5cdGlmIChNYXRoLmFicyh0b3VjaC5wYWdlWCAtIHRoaXMudG91Y2hTdGFydFgpID4gYm91bmRhcnkgfHwgTWF0aC5hYnModG91Y2gucGFnZVkgLSB0aGlzLnRvdWNoU3RhcnRZKSA+IGJvdW5kYXJ5KSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG5cbi8qKlxuICogVXBkYXRlIHRoZSBsYXN0IHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuRmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0aWYgKCF0aGlzLnRyYWNraW5nQ2xpY2spIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIElmIHRoZSB0b3VjaCBoYXMgbW92ZWQsIGNhbmNlbCB0aGUgY2xpY2sgdHJhY2tpbmdcblx0aWYgKHRoaXMudGFyZ2V0RWxlbWVudCAhPT0gdGhpcy5nZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0KGV2ZW50LnRhcmdldCkgfHwgdGhpcy50b3VjaEhhc01vdmVkKGV2ZW50KSkge1xuXHRcdHRoaXMudHJhY2tpbmdDbGljayA9IGZhbHNlO1xuXHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBBdHRlbXB0IHRvIGZpbmQgdGhlIGxhYmVsbGVkIGNvbnRyb2wgZm9yIHRoZSBnaXZlbiBsYWJlbCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR8SFRNTExhYmVsRWxlbWVudH0gbGFiZWxFbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudHxudWxsfVxuICovXG5GYXN0Q2xpY2sucHJvdG90eXBlLmZpbmRDb250cm9sID0gZnVuY3Rpb24obGFiZWxFbGVtZW50KSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHQvLyBGYXN0IHBhdGggZm9yIG5ld2VyIGJyb3dzZXJzIHN1cHBvcnRpbmcgdGhlIEhUTUw1IGNvbnRyb2wgYXR0cmlidXRlXG5cdGlmIChsYWJlbEVsZW1lbnQuY29udHJvbCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGxhYmVsRWxlbWVudC5jb250cm9sO1xuXHR9XG5cblx0Ly8gQWxsIGJyb3dzZXJzIHVuZGVyIHRlc3QgdGhhdCBzdXBwb3J0IHRvdWNoIGV2ZW50cyBhbHNvIHN1cHBvcnQgdGhlIEhUTUw1IGh0bWxGb3IgYXR0cmlidXRlXG5cdGlmIChsYWJlbEVsZW1lbnQuaHRtbEZvcikge1xuXHRcdHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsYWJlbEVsZW1lbnQuaHRtbEZvcik7XG5cdH1cblxuXHQvLyBJZiBubyBmb3IgYXR0cmlidXRlIGV4aXN0cywgYXR0ZW1wdCB0byByZXRyaWV2ZSB0aGUgZmlyc3QgbGFiZWxsYWJsZSBkZXNjZW5kYW50IGVsZW1lbnRcblx0Ly8gdGhlIGxpc3Qgb2Ygd2hpY2ggaXMgZGVmaW5lZCBoZXJlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9mb3Jtcy5odG1sI2NhdGVnb3J5LWxhYmVsXG5cdHJldHVybiBsYWJlbEVsZW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uLCBpbnB1dDpub3QoW3R5cGU9aGlkZGVuXSksIGtleWdlbiwgbWV0ZXIsIG91dHB1dCwgcHJvZ3Jlc3MsIHNlbGVjdCwgdGV4dGFyZWEnKTtcbn07XG5cblxuLyoqXG4gKiBPbiB0b3VjaCBlbmQsIGRldGVybWluZSB3aGV0aGVyIHRvIHNlbmQgYSBjbGljayBldmVudCBhdCBvbmNlLlxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuRmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoRW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgZm9yRWxlbWVudCwgdHJhY2tpbmdDbGlja1N0YXJ0LCB0YXJnZXRUYWdOYW1lLCBzY3JvbGxQYXJlbnQsIHRvdWNoLCB0YXJnZXRFbGVtZW50ID0gdGhpcy50YXJnZXRFbGVtZW50O1xuXG5cdGlmICghdGhpcy50cmFja2luZ0NsaWNrKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBQcmV2ZW50IHBoYW50b20gY2xpY2tzIG9uIGZhc3QgZG91YmxlLXRhcCAoaXNzdWUgIzM2KVxuXHRpZiAoKGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMubGFzdENsaWNrVGltZSkgPCAyMDApIHtcblx0XHR0aGlzLmNhbmNlbE5leHRDbGljayA9IHRydWU7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBSZXNldCB0byBwcmV2ZW50IHdyb25nIGNsaWNrIGNhbmNlbCBvbiBpbnB1dCAoaXNzdWUgIzE1NikuXG5cdHRoaXMuY2FuY2VsTmV4dENsaWNrID0gZmFsc2U7XG5cblx0dGhpcy5sYXN0Q2xpY2tUaW1lID0gZXZlbnQudGltZVN0YW1wO1xuXG5cdHRyYWNraW5nQ2xpY2tTdGFydCA9IHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0O1xuXHR0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcblx0dGhpcy50cmFja2luZ0NsaWNrU3RhcnQgPSAwO1xuXG5cdC8vIE9uIHNvbWUgaU9TIGRldmljZXMsIHRoZSB0YXJnZXRFbGVtZW50IHN1cHBsaWVkIHdpdGggdGhlIGV2ZW50IGlzIGludmFsaWQgaWYgdGhlIGxheWVyXG5cdC8vIGlzIHBlcmZvcm1pbmcgYSB0cmFuc2l0aW9uIG9yIHNjcm9sbCwgYW5kIGhhcyB0byBiZSByZS1kZXRlY3RlZCBtYW51YWxseS4gTm90ZSB0aGF0XG5cdC8vIGZvciB0aGlzIHRvIGZ1bmN0aW9uIGNvcnJlY3RseSwgaXQgbXVzdCBiZSBjYWxsZWQgKmFmdGVyKiB0aGUgZXZlbnQgdGFyZ2V0IGlzIGNoZWNrZWQhXG5cdC8vIFNlZSBpc3N1ZSAjNTc7IGFsc28gZmlsZWQgYXMgcmRhcjovLzEzMDQ4NTg5IC5cblx0aWYgKHRoaXMuZGV2aWNlSXNJT1NXaXRoQmFkVGFyZ2V0KSB7XG5cdFx0dG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcblxuXHRcdC8vIEluIGNlcnRhaW4gY2FzZXMgYXJndW1lbnRzIG9mIGVsZW1lbnRGcm9tUG9pbnQgY2FuIGJlIG5lZ2F0aXZlLCBzbyBwcmV2ZW50IHNldHRpbmcgdGFyZ2V0RWxlbWVudCB0byBudWxsXG5cdFx0dGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodG91Y2gucGFnZVggLSB3aW5kb3cucGFnZVhPZmZzZXQsIHRvdWNoLnBhZ2VZIC0gd2luZG93LnBhZ2VZT2Zmc2V0KSB8fCB0YXJnZXRFbGVtZW50O1xuXHRcdHRhcmdldEVsZW1lbnQuZmFzdENsaWNrU2Nyb2xsUGFyZW50ID0gdGhpcy50YXJnZXRFbGVtZW50LmZhc3RDbGlja1Njcm9sbFBhcmVudDtcblx0fVxuXG5cdHRhcmdldFRhZ05hbWUgPSB0YXJnZXRFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcblx0aWYgKHRhcmdldFRhZ05hbWUgPT09ICdsYWJlbCcpIHtcblx0XHRmb3JFbGVtZW50ID0gdGhpcy5maW5kQ29udHJvbCh0YXJnZXRFbGVtZW50KTtcblx0XHRpZiAoZm9yRWxlbWVudCkge1xuXHRcdFx0dGhpcy5mb2N1cyh0YXJnZXRFbGVtZW50KTtcblx0XHRcdGlmICh0aGlzLmRldmljZUlzQW5kcm9pZCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHRhcmdldEVsZW1lbnQgPSBmb3JFbGVtZW50O1xuXHRcdH1cblx0fSBlbHNlIGlmICh0aGlzLm5lZWRzRm9jdXModGFyZ2V0RWxlbWVudCkpIHtcblxuXHRcdC8vIENhc2UgMTogSWYgdGhlIHRvdWNoIHN0YXJ0ZWQgYSB3aGlsZSBhZ28gKGJlc3QgZ3Vlc3MgaXMgMTAwbXMgYmFzZWQgb24gdGVzdHMgZm9yIGlzc3VlICMzNikgdGhlbiBmb2N1cyB3aWxsIGJlIHRyaWdnZXJlZCBhbnl3YXkuIFJldHVybiBlYXJseSBhbmQgdW5zZXQgdGhlIHRhcmdldCBlbGVtZW50IHJlZmVyZW5jZSBzbyB0aGF0IHRoZSBzdWJzZXF1ZW50IGNsaWNrIHdpbGwgYmUgYWxsb3dlZCB0aHJvdWdoLlxuXHRcdC8vIENhc2UgMjogV2l0aG91dCB0aGlzIGV4Y2VwdGlvbiBmb3IgaW5wdXQgZWxlbWVudHMgdGFwcGVkIHdoZW4gdGhlIGRvY3VtZW50IGlzIGNvbnRhaW5lZCBpbiBhbiBpZnJhbWUsIHRoZW4gYW55IGlucHV0dGVkIHRleHQgd29uJ3QgYmUgdmlzaWJsZSBldmVuIHRob3VnaCB0aGUgdmFsdWUgYXR0cmlidXRlIGlzIHVwZGF0ZWQgYXMgdGhlIHVzZXIgdHlwZXMgKGlzc3VlICMzNykuXG5cdFx0aWYgKChldmVudC50aW1lU3RhbXAgLSB0cmFja2luZ0NsaWNrU3RhcnQpID4gMTAwIHx8ICh0aGlzLmRldmljZUlzSU9TICYmIHdpbmRvdy50b3AgIT09IHdpbmRvdyAmJiB0YXJnZXRUYWdOYW1lID09PSAnaW5wdXQnKSkge1xuXHRcdFx0dGhpcy50YXJnZXRFbGVtZW50ID0gbnVsbDtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR0aGlzLmZvY3VzKHRhcmdldEVsZW1lbnQpO1xuXG5cdFx0Ly8gU2VsZWN0IGVsZW1lbnRzIG5lZWQgdGhlIGV2ZW50IHRvIGdvIHRocm91Z2ggb24gaU9TIDQsIG90aGVyd2lzZSB0aGUgc2VsZWN0b3IgbWVudSB3b24ndCBvcGVuLlxuXHRcdGlmICghdGhpcy5kZXZpY2VJc0lPUzQgfHwgdGFyZ2V0VGFnTmFtZSAhPT0gJ3NlbGVjdCcpIHtcblx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmICh0aGlzLmRldmljZUlzSU9TICYmICF0aGlzLmRldmljZUlzSU9TNCkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2VuZCBhIHN5bnRoZXRpYyBjbGljayBldmVudCBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgY29udGFpbmVkIHdpdGhpbiBhIHBhcmVudCBsYXllciB0aGF0IHdhcyBzY3JvbGxlZFxuXHRcdC8vIGFuZCB0aGlzIHRhcCBpcyBiZWluZyB1c2VkIHRvIHN0b3AgdGhlIHNjcm9sbGluZyAodXN1YWxseSBpbml0aWF0ZWQgYnkgYSBmbGluZyAtIGlzc3VlICM0MikuXG5cdFx0c2Nyb2xsUGFyZW50ID0gdGFyZ2V0RWxlbWVudC5mYXN0Q2xpY2tTY3JvbGxQYXJlbnQ7XG5cdFx0aWYgKHNjcm9sbFBhcmVudCAmJiBzY3JvbGxQYXJlbnQuZmFzdENsaWNrTGFzdFNjcm9sbFRvcCAhPT0gc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUHJldmVudCB0aGUgYWN0dWFsIGNsaWNrIGZyb20gZ29pbmcgdGhvdWdoIC0gdW5sZXNzIHRoZSB0YXJnZXQgbm9kZSBpcyBtYXJrZWQgYXMgcmVxdWlyaW5nXG5cdC8vIHJlYWwgY2xpY2tzIG9yIGlmIGl0IGlzIGluIHRoZSB3aGl0ZWxpc3QgaW4gd2hpY2ggY2FzZSBvbmx5IG5vbi1wcm9ncmFtbWF0aWMgY2xpY2tzIGFyZSBwZXJtaXR0ZWQuXG5cdGlmICghdGhpcy5uZWVkc0NsaWNrKHRhcmdldEVsZW1lbnQpKSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR0aGlzLnNlbmRDbGljayh0YXJnZXRFbGVtZW50LCBldmVudCk7XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG5cbi8qKlxuICogT24gdG91Y2ggY2FuY2VsLCBzdG9wIHRyYWNraW5nIHRoZSBjbGljay5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0dGhpcy50cmFja2luZ0NsaWNrID0gZmFsc2U7XG5cdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG59O1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIG1vdXNlIGV2ZW50cyB3aGljaCBzaG91bGQgYmUgcGVybWl0dGVkLlxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuRmFzdENsaWNrLnByb3RvdHlwZS5vbk1vdXNlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8vIElmIGEgdGFyZ2V0IGVsZW1lbnQgd2FzIG5ldmVyIHNldCAoYmVjYXVzZSBhIHRvdWNoIGV2ZW50IHdhcyBuZXZlciBmaXJlZCkgYWxsb3cgdGhlIGV2ZW50XG5cdGlmICghdGhpcy50YXJnZXRFbGVtZW50KSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoZXZlbnQuZm9yd2FyZGVkVG91Y2hFdmVudCkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gUHJvZ3JhbW1hdGljYWxseSBnZW5lcmF0ZWQgZXZlbnRzIHRhcmdldGluZyBhIHNwZWNpZmljIGVsZW1lbnQgc2hvdWxkIGJlIHBlcm1pdHRlZFxuXHRpZiAoIWV2ZW50LmNhbmNlbGFibGUpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIERlcml2ZSBhbmQgY2hlY2sgdGhlIHRhcmdldCBlbGVtZW50IHRvIHNlZSB3aGV0aGVyIHRoZSBtb3VzZSBldmVudCBuZWVkcyB0byBiZSBwZXJtaXR0ZWQ7XG5cdC8vIHVubGVzcyBleHBsaWNpdGx5IGVuYWJsZWQsIHByZXZlbnQgbm9uLXRvdWNoIGNsaWNrIGV2ZW50cyBmcm9tIHRyaWdnZXJpbmcgYWN0aW9ucyxcblx0Ly8gdG8gcHJldmVudCBnaG9zdC9kb3VibGVjbGlja3MuXG5cdGlmICghdGhpcy5uZWVkc0NsaWNrKHRoaXMudGFyZ2V0RWxlbWVudCkgfHwgdGhpcy5jYW5jZWxOZXh0Q2xpY2spIHtcblxuXHRcdC8vIFByZXZlbnQgYW55IHVzZXItYWRkZWQgbGlzdGVuZXJzIGRlY2xhcmVkIG9uIEZhc3RDbGljayBlbGVtZW50IGZyb20gYmVpbmcgZmlyZWQuXG5cdFx0aWYgKGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikge1xuXHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gUGFydCBvZiB0aGUgaGFjayBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IEV2ZW50I3N0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiAoZS5nLiBBbmRyb2lkIDIpXG5cdFx0XHRldmVudC5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIENhbmNlbCB0aGUgZXZlbnRcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gSWYgdGhlIG1vdXNlIGV2ZW50IGlzIHBlcm1pdHRlZCwgcmV0dXJuIHRydWUgZm9yIHRoZSBhY3Rpb24gdG8gZ28gdGhyb3VnaC5cblx0cmV0dXJuIHRydWU7XG59O1xuXG5cbi8qKlxuICogT24gYWN0dWFsIGNsaWNrcywgZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBpcyBhIHRvdWNoLWdlbmVyYXRlZCBjbGljaywgYSBjbGljayBhY3Rpb24gb2NjdXJyaW5nXG4gKiBuYXR1cmFsbHkgYWZ0ZXIgYSBkZWxheSBhZnRlciBhIHRvdWNoICh3aGljaCBuZWVkcyB0byBiZSBjYW5jZWxsZWQgdG8gYXZvaWQgZHVwbGljYXRpb24pLCBvclxuICogYW4gYWN0dWFsIGNsaWNrIHdoaWNoIHNob3VsZCBiZSBwZXJtaXR0ZWQuXG4gKlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5GYXN0Q2xpY2sucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbihldmVudCkge1xuXHQndXNlIHN0cmljdCc7XG5cdHZhciBwZXJtaXR0ZWQ7XG5cblx0Ly8gSXQncyBwb3NzaWJsZSBmb3IgYW5vdGhlciBGYXN0Q2xpY2stbGlrZSBsaWJyYXJ5IGRlbGl2ZXJlZCB3aXRoIHRoaXJkLXBhcnR5IGNvZGUgdG8gZmlyZSBhIGNsaWNrIGV2ZW50IGJlZm9yZSBGYXN0Q2xpY2sgZG9lcyAoaXNzdWUgIzQ0KS4gSW4gdGhhdCBjYXNlLCBzZXQgdGhlIGNsaWNrLXRyYWNraW5nIGZsYWcgYmFjayB0byBmYWxzZSBhbmQgcmV0dXJuIGVhcmx5LiBUaGlzIHdpbGwgY2F1c2Ugb25Ub3VjaEVuZCB0byByZXR1cm4gZWFybHkuXG5cdGlmICh0aGlzLnRyYWNraW5nQ2xpY2spIHtcblx0XHR0aGlzLnRhcmdldEVsZW1lbnQgPSBudWxsO1xuXHRcdHRoaXMudHJhY2tpbmdDbGljayA9IGZhbHNlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gVmVyeSBvZGQgYmVoYXZpb3VyIG9uIGlPUyAoaXNzdWUgIzE4KTogaWYgYSBzdWJtaXQgZWxlbWVudCBpcyBwcmVzZW50IGluc2lkZSBhIGZvcm0gYW5kIHRoZSB1c2VyIGhpdHMgZW50ZXIgaW4gdGhlIGlPUyBzaW11bGF0b3Igb3IgY2xpY2tzIHRoZSBHbyBidXR0b24gb24gdGhlIHBvcC11cCBPUyBrZXlib2FyZCB0aGUgYSBraW5kIG9mICdmYWtlJyBjbGljayBldmVudCB3aWxsIGJlIHRyaWdnZXJlZCB3aXRoIHRoZSBzdWJtaXQtdHlwZSBpbnB1dCBlbGVtZW50IGFzIHRoZSB0YXJnZXQuXG5cdGlmIChldmVudC50YXJnZXQudHlwZSA9PT0gJ3N1Ym1pdCcgJiYgZXZlbnQuZGV0YWlsID09PSAwKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRwZXJtaXR0ZWQgPSB0aGlzLm9uTW91c2UoZXZlbnQpO1xuXG5cdC8vIE9ubHkgdW5zZXQgdGFyZ2V0RWxlbWVudCBpZiB0aGUgY2xpY2sgaXMgbm90IHBlcm1pdHRlZC4gVGhpcyB3aWxsIGVuc3VyZSB0aGF0IHRoZSBjaGVjayBmb3IgIXRhcmdldEVsZW1lbnQgaW4gb25Nb3VzZSBmYWlscyBhbmQgdGhlIGJyb3dzZXIncyBjbGljayBkb2Vzbid0IGdvIHRocm91Z2guXG5cdGlmICghcGVybWl0dGVkKSB7XG5cdFx0dGhpcy50YXJnZXRFbGVtZW50ID0gbnVsbDtcblx0fVxuXG5cdC8vIElmIGNsaWNrcyBhcmUgcGVybWl0dGVkLCByZXR1cm4gdHJ1ZSBmb3IgdGhlIGFjdGlvbiB0byBnbyB0aHJvdWdoLlxuXHRyZXR1cm4gcGVybWl0dGVkO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZSBhbGwgRmFzdENsaWNrJ3MgZXZlbnQgbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5GYXN0Q2xpY2sucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgbGF5ZXIgPSB0aGlzLmxheWVyO1xuXG5cdGlmICh0aGlzLmRldmljZUlzQW5kcm9pZCkge1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlLCB0cnVlKTtcblx0XHRsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlLCB0cnVlKTtcblx0fVxuXG5cdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrLCB0cnVlKTtcblx0bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG5cdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUsIGZhbHNlKTtcblx0bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQsIGZhbHNlKTtcblx0bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uVG91Y2hDYW5jZWwsIGZhbHNlKTtcbn07XG5cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIEZhc3RDbGljayBpcyBuZWVkZWQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBsYXllciBUaGUgbGF5ZXIgdG8gbGlzdGVuIG9uXG4gKi9cbkZhc3RDbGljay5ub3ROZWVkZWQgPSBmdW5jdGlvbihsYXllcikge1xuXHQndXNlIHN0cmljdCc7XG5cdHZhciBtZXRhVmlld3BvcnQ7XG5cdHZhciBjaHJvbWVWZXJzaW9uO1xuXG5cdC8vIERldmljZXMgdGhhdCBkb24ndCBzdXBwb3J0IHRvdWNoIGRvbid0IG5lZWQgRmFzdENsaWNrXG5cdGlmICh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIENocm9tZSB2ZXJzaW9uIC0gemVybyBmb3Igb3RoZXIgYnJvd3NlcnNcblx0Y2hyb21lVmVyc2lvbiA9ICsoL0Nocm9tZVxcLyhbMC05XSspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IFssMF0pWzFdO1xuXG5cdGlmIChjaHJvbWVWZXJzaW9uKSB7XG5cblx0XHRpZiAoRmFzdENsaWNrLnByb3RvdHlwZS5kZXZpY2VJc0FuZHJvaWQpIHtcblx0XHRcdG1ldGFWaWV3cG9ydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT12aWV3cG9ydF0nKTtcblxuXHRcdFx0aWYgKG1ldGFWaWV3cG9ydCkge1xuXHRcdFx0XHQvLyBDaHJvbWUgb24gQW5kcm9pZCB3aXRoIHVzZXItc2NhbGFibGU9XCJub1wiIGRvZXNuJ3QgbmVlZCBGYXN0Q2xpY2sgKGlzc3VlICM4OSlcblx0XHRcdFx0aWYgKG1ldGFWaWV3cG9ydC5jb250ZW50LmluZGV4T2YoJ3VzZXItc2NhbGFibGU9bm8nKSAhPT0gLTEpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBDaHJvbWUgMzIgYW5kIGFib3ZlIHdpdGggd2lkdGg9ZGV2aWNlLXdpZHRoIG9yIGxlc3MgZG9uJ3QgbmVlZCBGYXN0Q2xpY2tcblx0XHRcdFx0aWYgKGNocm9tZVZlcnNpb24gPiAzMSAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSB3aW5kb3cuc2NyZWVuLndpZHRoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIENocm9tZSBkZXNrdG9wIGRvZXNuJ3QgbmVlZCBGYXN0Q2xpY2sgKGlzc3VlICMxNSlcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cblx0Ly8gSUUxMCB3aXRoIC1tcy10b3VjaC1hY3Rpb246IG5vbmUsIHdoaWNoIGRpc2FibGVzIGRvdWJsZS10YXAtdG8tem9vbSAoaXNzdWUgIzk3KVxuXHRpZiAobGF5ZXIuc3R5bGUubXNUb3VjaEFjdGlvbiA9PT0gJ25vbmUnKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG5cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgZm9yIGNyZWF0aW5nIGEgRmFzdENsaWNrIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gbGF5ZXIgVGhlIGxheWVyIHRvIGxpc3RlbiBvblxuICovXG5GYXN0Q2xpY2suYXR0YWNoID0gZnVuY3Rpb24obGF5ZXIpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRyZXR1cm4gbmV3IEZhc3RDbGljayhsYXllcik7XG59O1xuXG5cbmlmICh0eXBlb2YgZGVmaW5lICE9PSAndW5kZWZpbmVkJyAmJiBkZWZpbmUuYW1kKSB7XG5cblx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRkZWZpbmUoZnVuY3Rpb24oKSB7XG5cdFx0J3VzZSBzdHJpY3QnO1xuXHRcdHJldHVybiBGYXN0Q2xpY2s7XG5cdH0pO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRtb2R1bGUuZXhwb3J0cyA9IEZhc3RDbGljay5hdHRhY2g7XG5cdG1vZHVsZS5leHBvcnRzLkZhc3RDbGljayA9IEZhc3RDbGljaztcbn0gZWxzZSB7XG5cdHdpbmRvdy5GYXN0Q2xpY2sgPSBGYXN0Q2xpY2s7XG59XG5cbn0pO1xuXG5yZXF1aXJlLnJlZ2lzdGVyKFwiY29tcG9uZW50fmluZGV4b2ZAMC4wLjNcIiwgZnVuY3Rpb24gKGV4cG9ydHMsIG1vZHVsZSkge1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcnIsIG9iail7XG4gIGlmIChhcnIuaW5kZXhPZikgcmV0dXJuIGFyci5pbmRleE9mKG9iaik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGFycltpXSA9PT0gb2JqKSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59O1xufSk7XG5cbnJlcXVpcmUucmVnaXN0ZXIoXCJjb21wb25lbnR+Y2xhc3Nlc0AxLjIuMVwiLCBmdW5jdGlvbiAoZXhwb3J0cywgbW9kdWxlKSB7XG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIGluZGV4ID0gcmVxdWlyZSgnY29tcG9uZW50fmluZGV4b2ZAMC4wLjMnKTtcblxuLyoqXG4gKiBXaGl0ZXNwYWNlIHJlZ2V4cC5cbiAqL1xuXG52YXIgcmUgPSAvXFxzKy87XG5cbi8qKlxuICogdG9TdHJpbmcgcmVmZXJlbmNlLlxuICovXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogV3JhcCBgZWxgIGluIGEgYENsYXNzTGlzdGAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGVsKXtcbiAgcmV0dXJuIG5ldyBDbGFzc0xpc3QoZWwpO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IENsYXNzTGlzdCBmb3IgYGVsYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBDbGFzc0xpc3QoZWwpIHtcbiAgaWYgKCFlbCkgdGhyb3cgbmV3IEVycm9yKCdBIERPTSBlbGVtZW50IHJlZmVyZW5jZSBpcyByZXF1aXJlZCcpO1xuICB0aGlzLmVsID0gZWw7XG4gIHRoaXMubGlzdCA9IGVsLmNsYXNzTGlzdDtcbn1cblxuLyoqXG4gKiBBZGQgY2xhc3MgYG5hbWVgIGlmIG5vdCBhbHJlYWR5IHByZXNlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihuYW1lKXtcbiAgLy8gY2xhc3NMaXN0XG4gIGlmICh0aGlzLmxpc3QpIHtcbiAgICB0aGlzLmxpc3QuYWRkKG5hbWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZmFsbGJhY2tcbiAgdmFyIGFyciA9IHRoaXMuYXJyYXkoKTtcbiAgdmFyIGkgPSBpbmRleChhcnIsIG5hbWUpO1xuICBpZiAoIX5pKSBhcnIucHVzaChuYW1lKTtcbiAgdGhpcy5lbC5jbGFzc05hbWUgPSBhcnIuam9pbignICcpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGNsYXNzIGBuYW1lYCB3aGVuIHByZXNlbnQsIG9yXG4gKiBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIHRvIHJlbW92ZVxuICogYW55IHdoaWNoIG1hdGNoLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gbmFtZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKG5hbWUpe1xuICBpZiAoJ1tvYmplY3QgUmVnRXhwXScgPT0gdG9TdHJpbmcuY2FsbChuYW1lKSkge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZU1hdGNoaW5nKG5hbWUpO1xuICB9XG5cbiAgLy8gY2xhc3NMaXN0XG4gIGlmICh0aGlzLmxpc3QpIHtcbiAgICB0aGlzLmxpc3QucmVtb3ZlKG5hbWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZmFsbGJhY2tcbiAgdmFyIGFyciA9IHRoaXMuYXJyYXkoKTtcbiAgdmFyIGkgPSBpbmRleChhcnIsIG5hbWUpO1xuICBpZiAofmkpIGFyci5zcGxpY2UoaSwgMSk7XG4gIHRoaXMuZWwuY2xhc3NOYW1lID0gYXJyLmpvaW4oJyAnKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgY2xhc3NlcyBtYXRjaGluZyBgcmVgLlxuICpcbiAqIEBwYXJhbSB7UmVnRXhwfSByZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZyA9IGZ1bmN0aW9uKHJlKXtcbiAgdmFyIGFyciA9IHRoaXMuYXJyYXkoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocmUudGVzdChhcnJbaV0pKSB7XG4gICAgICB0aGlzLnJlbW92ZShhcnJbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVG9nZ2xlIGNsYXNzIGBuYW1lYCwgY2FuIGZvcmNlIHN0YXRlIHZpYSBgZm9yY2VgLlxuICpcbiAqIEZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgY2xhc3NMaXN0LCBidXQgZG8gbm90IHN1cHBvcnQgYGZvcmNlYCB5ZXQsXG4gKiB0aGUgbWlzdGFrZSB3aWxsIGJlIGRldGVjdGVkIGFuZCBjb3JyZWN0ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2VcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihuYW1lLCBmb3JjZSl7XG4gIC8vIGNsYXNzTGlzdFxuICBpZiAodGhpcy5saXN0KSB7XG4gICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBmb3JjZSkge1xuICAgICAgaWYgKGZvcmNlICE9PSB0aGlzLmxpc3QudG9nZ2xlKG5hbWUsIGZvcmNlKSkge1xuICAgICAgICB0aGlzLmxpc3QudG9nZ2xlKG5hbWUpOyAvLyB0b2dnbGUgYWdhaW4gdG8gY29ycmVjdFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxpc3QudG9nZ2xlKG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGZhbGxiYWNrXG4gIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgZm9yY2UpIHtcbiAgICBpZiAoIWZvcmNlKSB7XG4gICAgICB0aGlzLnJlbW92ZShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGQobmFtZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh0aGlzLmhhcyhuYW1lKSkge1xuICAgICAgdGhpcy5yZW1vdmUobmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkKG5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgb2YgY2xhc3Nlcy5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5hcnJheSA9IGZ1bmN0aW9uKCl7XG4gIHZhciBzdHIgPSB0aGlzLmVsLmNsYXNzTmFtZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gIHZhciBhcnIgPSBzdHIuc3BsaXQocmUpO1xuICBpZiAoJycgPT09IGFyclswXSkgYXJyLnNoaWZ0KCk7XG4gIHJldHVybiBhcnI7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGNsYXNzIGBuYW1lYCBpcyBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUuaGFzID1cbkNsYXNzTGlzdC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHRoaXMubGlzdFxuICAgID8gdGhpcy5saXN0LmNvbnRhaW5zKG5hbWUpXG4gICAgOiAhISB+aW5kZXgodGhpcy5hcnJheSgpLCBuYW1lKTtcbn07XG5cbn0pO1xuXG5yZXF1aXJlLnJlZ2lzdGVyKFwiY29tcG9uZW50fmV2ZW50QDAuMS40XCIsIGZ1bmN0aW9uIChleHBvcnRzLCBtb2R1bGUpIHtcbnZhciBiaW5kID0gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAnYXR0YWNoRXZlbnQnLFxuICAgIHVuYmluZCA9IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyID8gJ3JlbW92ZUV2ZW50TGlzdGVuZXInIDogJ2RldGFjaEV2ZW50JyxcbiAgICBwcmVmaXggPSBiaW5kICE9PSAnYWRkRXZlbnRMaXN0ZW5lcicgPyAnb24nIDogJyc7XG5cbi8qKlxuICogQmluZCBgZWxgIGV2ZW50IGB0eXBlYCB0byBgZm5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5iaW5kID0gZnVuY3Rpb24oZWwsIHR5cGUsIGZuLCBjYXB0dXJlKXtcbiAgZWxbYmluZF0ocHJlZml4ICsgdHlwZSwgZm4sIGNhcHR1cmUgfHwgZmFsc2UpO1xuICByZXR1cm4gZm47XG59O1xuXG4vKipcbiAqIFVuYmluZCBgZWxgIGV2ZW50IGB0eXBlYCdzIGNhbGxiYWNrIGBmbmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmVcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnVuYmluZCA9IGZ1bmN0aW9uKGVsLCB0eXBlLCBmbiwgY2FwdHVyZSl7XG4gIGVsW3VuYmluZF0ocHJlZml4ICsgdHlwZSwgZm4sIGNhcHR1cmUgfHwgZmFsc2UpO1xuICByZXR1cm4gZm47XG59O1xufSk7XG5cbnJlcXVpcmUucmVnaXN0ZXIoXCJjb21wb25lbnR+cXVlcnlAMC4wLjNcIiwgZnVuY3Rpb24gKGV4cG9ydHMsIG1vZHVsZSkge1xuZnVuY3Rpb24gb25lKHNlbGVjdG9yLCBlbCkge1xuICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG59XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBlbCl7XG4gIGVsID0gZWwgfHwgZG9jdW1lbnQ7XG4gIHJldHVybiBvbmUoc2VsZWN0b3IsIGVsKTtcbn07XG5cbmV4cG9ydHMuYWxsID0gZnVuY3Rpb24oc2VsZWN0b3IsIGVsKXtcbiAgZWwgPSBlbCB8fCBkb2N1bWVudDtcbiAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xufTtcblxuZXhwb3J0cy5lbmdpbmUgPSBmdW5jdGlvbihvYmope1xuICBpZiAoIW9iai5vbmUpIHRocm93IG5ldyBFcnJvcignLm9uZSBjYWxsYmFjayByZXF1aXJlZCcpO1xuICBpZiAoIW9iai5hbGwpIHRocm93IG5ldyBFcnJvcignLmFsbCBjYWxsYmFjayByZXF1aXJlZCcpO1xuICBvbmUgPSBvYmoub25lO1xuICBleHBvcnRzLmFsbCA9IG9iai5hbGw7XG4gIHJldHVybiBleHBvcnRzO1xufTtcblxufSk7XG5cbnJlcXVpcmUucmVnaXN0ZXIoXCJjb21wb25lbnR+bWF0Y2hlcy1zZWxlY3RvckAwLjEuNVwiLCBmdW5jdGlvbiAoZXhwb3J0cywgbW9kdWxlKSB7XG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIHF1ZXJ5ID0gcmVxdWlyZSgnY29tcG9uZW50fnF1ZXJ5QDAuMC4zJyk7XG5cbi8qKlxuICogRWxlbWVudCBwcm90b3R5cGUuXG4gKi9cblxudmFyIHByb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XG5cbi8qKlxuICogVmVuZG9yIGZ1bmN0aW9uLlxuICovXG5cbnZhciB2ZW5kb3IgPSBwcm90by5tYXRjaGVzXG4gIHx8IHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3RvclxuICB8fCBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3JcbiAgfHwgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3JcbiAgfHwgcHJvdG8ub01hdGNoZXNTZWxlY3RvcjtcblxuLyoqXG4gKiBFeHBvc2UgYG1hdGNoKClgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gbWF0Y2g7XG5cbi8qKlxuICogTWF0Y2ggYGVsYCB0byBgc2VsZWN0b3JgLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbWF0Y2goZWwsIHNlbGVjdG9yKSB7XG4gIGlmICghZWwgfHwgZWwubm9kZVR5cGUgIT09IDEpIHJldHVybiBmYWxzZTtcbiAgaWYgKHZlbmRvcikgcmV0dXJuIHZlbmRvci5jYWxsKGVsLCBzZWxlY3Rvcik7XG4gIHZhciBub2RlcyA9IHF1ZXJ5LmFsbChzZWxlY3RvciwgZWwucGFyZW50Tm9kZSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZXNbaV0gPT0gZWwpIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxufSk7XG5cbnJlcXVpcmUucmVnaXN0ZXIoXCJjb21wb25lbnR+Y2xvc2VzdEAwLjEuNFwiLCBmdW5jdGlvbiAoZXhwb3J0cywgbW9kdWxlKSB7XG52YXIgbWF0Y2hlcyA9IHJlcXVpcmUoJ2NvbXBvbmVudH5tYXRjaGVzLXNlbGVjdG9yQDAuMS41JylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IsIGNoZWNrWW9TZWxmLCByb290KSB7XG4gIGVsZW1lbnQgPSBjaGVja1lvU2VsZiA/IHtwYXJlbnROb2RlOiBlbGVtZW50fSA6IGVsZW1lbnRcblxuICByb290ID0gcm9vdCB8fCBkb2N1bWVudFxuXG4gIC8vIE1ha2Ugc3VyZSBgZWxlbWVudCAhPT0gZG9jdW1lbnRgIGFuZCBgZWxlbWVudCAhPSBudWxsYFxuICAvLyBvdGhlcndpc2Ugd2UgZ2V0IGFuIGlsbGVnYWwgaW52b2NhdGlvblxuICB3aGlsZSAoKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUpICYmIGVsZW1lbnQgIT09IGRvY3VtZW50KSB7XG4gICAgaWYgKG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpKVxuICAgICAgcmV0dXJuIGVsZW1lbnRcbiAgICAvLyBBZnRlciBgbWF0Y2hlc2Agb24gdGhlIGVkZ2UgY2FzZSB0aGF0XG4gICAgLy8gdGhlIHNlbGVjdG9yIG1hdGNoZXMgdGhlIHJvb3RcbiAgICAvLyAod2hlbiB0aGUgcm9vdCBpcyBub3QgdGhlIGRvY3VtZW50KVxuICAgIGlmIChlbGVtZW50ID09PSByb290KVxuICAgICAgcmV0dXJuXG4gIH1cbn1cblxufSk7XG5cbnJlcXVpcmUucmVnaXN0ZXIoXCJjb21wb25lbnR+ZGVsZWdhdGVAMC4yLjNcIiwgZnVuY3Rpb24gKGV4cG9ydHMsIG1vZHVsZSkge1xuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBjbG9zZXN0ID0gcmVxdWlyZSgnY29tcG9uZW50fmNsb3Nlc3RAMC4xLjQnKVxuICAsIGV2ZW50ID0gcmVxdWlyZSgnY29tcG9uZW50fmV2ZW50QDAuMS40Jyk7XG5cbi8qKlxuICogRGVsZWdhdGUgZXZlbnQgYHR5cGVgIHRvIGBzZWxlY3RvcmBcbiAqIGFuZCBpbnZva2UgYGZuKGUpYC4gQSBjYWxsYmFjayBmdW5jdGlvblxuICogaXMgcmV0dXJuZWQgd2hpY2ggbWF5IGJlIHBhc3NlZCB0byBgLnVuYmluZCgpYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5iaW5kID0gZnVuY3Rpb24oZWwsIHNlbGVjdG9yLCB0eXBlLCBmbiwgY2FwdHVyZSl7XG4gIHJldHVybiBldmVudC5iaW5kKGVsLCB0eXBlLCBmdW5jdGlvbihlKXtcbiAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KHRhcmdldCwgc2VsZWN0b3IsIHRydWUsIGVsKTtcbiAgICBpZiAoZS5kZWxlZ2F0ZVRhcmdldCkgZm4uY2FsbChlbCwgZSk7XG4gIH0sIGNhcHR1cmUpO1xufTtcblxuLyoqXG4gKiBVbmJpbmQgZXZlbnQgYHR5cGVgJ3MgY2FsbGJhY2sgYGZuYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnVuYmluZCA9IGZ1bmN0aW9uKGVsLCB0eXBlLCBmbiwgY2FwdHVyZSl7XG4gIGV2ZW50LnVuYmluZChlbCwgdHlwZSwgZm4sIGNhcHR1cmUpO1xufTtcblxufSk7XG5cbnJlcXVpcmUucmVnaXN0ZXIoXCJjb21wb25lbnR+ZXZlbnRzQDEuMC45XCIsIGZ1bmN0aW9uIChleHBvcnRzLCBtb2R1bGUpIHtcblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBldmVudHMgPSByZXF1aXJlKCdjb21wb25lbnR+ZXZlbnRAMC4xLjQnKTtcbnZhciBkZWxlZ2F0ZSA9IHJlcXVpcmUoJ2NvbXBvbmVudH5kZWxlZ2F0ZUAwLjIuMycpO1xuXG4vKipcbiAqIEV4cG9zZSBgRXZlbnRzYC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50cztcblxuLyoqXG4gKiBJbml0aWFsaXplIGFuIGBFdmVudHNgIHdpdGggdGhlIGdpdmVuXG4gKiBgZWxgIG9iamVjdCB3aGljaCBldmVudHMgd2lsbCBiZSBib3VuZCB0byxcbiAqIGFuZCB0aGUgYG9iamAgd2hpY2ggd2lsbCByZWNlaXZlIG1ldGhvZCBjYWxscy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gRXZlbnRzKGVsLCBvYmopIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEV2ZW50cykpIHJldHVybiBuZXcgRXZlbnRzKGVsLCBvYmopO1xuICBpZiAoIWVsKSB0aHJvdyBuZXcgRXJyb3IoJ2VsZW1lbnQgcmVxdWlyZWQnKTtcbiAgaWYgKCFvYmopIHRocm93IG5ldyBFcnJvcignb2JqZWN0IHJlcXVpcmVkJyk7XG4gIHRoaXMuZWwgPSBlbDtcbiAgdGhpcy5vYmogPSBvYmo7XG4gIHRoaXMuX2V2ZW50cyA9IHt9O1xufVxuXG4vKipcbiAqIFN1YnNjcmlwdGlvbiBoZWxwZXIuXG4gKi9cblxuRXZlbnRzLnByb3RvdHlwZS5zdWIgPSBmdW5jdGlvbihldmVudCwgbWV0aG9kLCBjYil7XG4gIHRoaXMuX2V2ZW50c1tldmVudF0gPSB0aGlzLl9ldmVudHNbZXZlbnRdIHx8IHt9O1xuICB0aGlzLl9ldmVudHNbZXZlbnRdW21ldGhvZF0gPSBjYjtcbn07XG5cbi8qKlxuICogQmluZCB0byBgZXZlbnRgIHdpdGggb3B0aW9uYWwgYG1ldGhvZGAgbmFtZS5cbiAqIFdoZW4gYG1ldGhvZGAgaXMgdW5kZWZpbmVkIGl0IGJlY29tZXMgYGV2ZW50YFxuICogd2l0aCB0aGUgXCJvblwiIHByZWZpeC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgRGlyZWN0IGV2ZW50IGhhbmRsaW5nOlxuICpcbiAqICAgIGV2ZW50cy5iaW5kKCdjbGljaycpIC8vIGltcGxpZXMgXCJvbmNsaWNrXCJcbiAqICAgIGV2ZW50cy5iaW5kKCdjbGljaycsICdyZW1vdmUnKVxuICogICAgZXZlbnRzLmJpbmQoJ2NsaWNrJywgJ3NvcnQnLCAnYXNjJylcbiAqXG4gKiAgRGVsZWdhdGVkIGV2ZW50IGhhbmRsaW5nOlxuICpcbiAqICAgIGV2ZW50cy5iaW5kKCdjbGljayBsaSA+IGEnKVxuICogICAgZXZlbnRzLmJpbmQoJ2NsaWNrIGxpID4gYScsICdyZW1vdmUnKVxuICogICAgZXZlbnRzLmJpbmQoJ2NsaWNrIGEuc29ydC1hc2NlbmRpbmcnLCAnc29ydCcsICdhc2MnKVxuICogICAgZXZlbnRzLmJpbmQoJ2NsaWNrIGEuc29ydC1kZXNjZW5kaW5nJywgJ3NvcnQnLCAnZGVzYycpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge1N0cmluZ3xmdW5jdGlvbn0gW21ldGhvZF1cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FdmVudHMucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbihldmVudCwgbWV0aG9kKXtcbiAgdmFyIGUgPSBwYXJzZShldmVudCk7XG4gIHZhciBlbCA9IHRoaXMuZWw7XG4gIHZhciBvYmogPSB0aGlzLm9iajtcbiAgdmFyIG5hbWUgPSBlLm5hbWU7XG4gIHZhciBtZXRob2QgPSBtZXRob2QgfHwgJ29uJyArIG5hbWU7XG4gIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuXG4gIC8vIGNhbGxiYWNrXG4gIGZ1bmN0aW9uIGNiKCl7XG4gICAgdmFyIGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykuY29uY2F0KGFyZ3MpO1xuICAgIG9ialttZXRob2RdLmFwcGx5KG9iaiwgYSk7XG4gIH1cblxuICAvLyBiaW5kXG4gIGlmIChlLnNlbGVjdG9yKSB7XG4gICAgY2IgPSBkZWxlZ2F0ZS5iaW5kKGVsLCBlLnNlbGVjdG9yLCBuYW1lLCBjYik7XG4gIH0gZWxzZSB7XG4gICAgZXZlbnRzLmJpbmQoZWwsIG5hbWUsIGNiKTtcbiAgfVxuXG4gIC8vIHN1YnNjcmlwdGlvbiBmb3IgdW5iaW5kaW5nXG4gIHRoaXMuc3ViKG5hbWUsIG1ldGhvZCwgY2IpO1xuXG4gIHJldHVybiBjYjtcbn07XG5cbi8qKlxuICogVW5iaW5kIGEgc2luZ2xlIGJpbmRpbmcsIGFsbCBiaW5kaW5ncyBmb3IgYGV2ZW50YCxcbiAqIG9yIGFsbCBiaW5kaW5ncyB3aXRoaW4gdGhlIG1hbmFnZXIuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogIFVuYmluZCBkaXJlY3QgaGFuZGxlcnM6XG4gKlxuICogICAgIGV2ZW50cy51bmJpbmQoJ2NsaWNrJywgJ3JlbW92ZScpXG4gKiAgICAgZXZlbnRzLnVuYmluZCgnY2xpY2snKVxuICogICAgIGV2ZW50cy51bmJpbmQoKVxuICpcbiAqIFVuYmluZCBkZWxlZ2F0ZSBoYW5kbGVyczpcbiAqXG4gKiAgICAgZXZlbnRzLnVuYmluZCgnY2xpY2snLCAncmVtb3ZlJylcbiAqICAgICBldmVudHMudW5iaW5kKCdjbGljaycpXG4gKiAgICAgZXZlbnRzLnVuYmluZCgpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IFtldmVudF1cbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBbbWV0aG9kXVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FdmVudHMucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKGV2ZW50LCBtZXRob2Qpe1xuICBpZiAoMCA9PSBhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGhpcy51bmJpbmRBbGwoKTtcbiAgaWYgKDEgPT0gYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMudW5iaW5kQWxsT2YoZXZlbnQpO1xuXG4gIC8vIG5vIGJpbmRpbmdzIGZvciB0aGlzIGV2ZW50XG4gIHZhciBiaW5kaW5ncyA9IHRoaXMuX2V2ZW50c1tldmVudF07XG4gIGlmICghYmluZGluZ3MpIHJldHVybjtcblxuICAvLyBubyBiaW5kaW5ncyBmb3IgdGhpcyBtZXRob2RcbiAgdmFyIGNiID0gYmluZGluZ3NbbWV0aG9kXTtcbiAgaWYgKCFjYikgcmV0dXJuO1xuXG4gIGV2ZW50cy51bmJpbmQodGhpcy5lbCwgZXZlbnQsIGNiKTtcbn07XG5cbi8qKlxuICogVW5iaW5kIGFsbCBldmVudHMuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuRXZlbnRzLnByb3RvdHlwZS51bmJpbmRBbGwgPSBmdW5jdGlvbigpe1xuICBmb3IgKHZhciBldmVudCBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICB0aGlzLnVuYmluZEFsbE9mKGV2ZW50KTtcbiAgfVxufTtcblxuLyoqXG4gKiBVbmJpbmQgYWxsIGV2ZW50cyBmb3IgYGV2ZW50YC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkV2ZW50cy5wcm90b3R5cGUudW5iaW5kQWxsT2YgPSBmdW5jdGlvbihldmVudCl7XG4gIHZhciBiaW5kaW5ncyA9IHRoaXMuX2V2ZW50c1tldmVudF07XG4gIGlmICghYmluZGluZ3MpIHJldHVybjtcblxuICBmb3IgKHZhciBtZXRob2QgaW4gYmluZGluZ3MpIHtcbiAgICB0aGlzLnVuYmluZChldmVudCwgbWV0aG9kKTtcbiAgfVxufTtcblxuLyoqXG4gKiBQYXJzZSBgZXZlbnRgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2UoZXZlbnQpIHtcbiAgdmFyIHBhcnRzID0gZXZlbnQuc3BsaXQoLyArLyk7XG4gIHJldHVybiB7XG4gICAgbmFtZTogcGFydHMuc2hpZnQoKSxcbiAgICBzZWxlY3RvcjogcGFydHMuam9pbignICcpXG4gIH1cbn1cblxufSk7XG5cbnJlcXVpcmUucmVnaXN0ZXIoXCJzd2l0Y2hlcnlcIiwgZnVuY3Rpb24gKGV4cG9ydHMsIG1vZHVsZSkge1xuLyoqXG4gKiBTd2l0Y2hlcnkgMC44LjFcbiAqIGh0dHA6Ly9hYnBldGtvdi5naXRodWIuaW8vc3dpdGNoZXJ5L1xuICpcbiAqIEF1dGhvcmVkIGJ5IEFsZXhhbmRlciBQZXRrb3ZcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hYnBldGtvdlxuICpcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEFsZXhhbmRlciBQZXRrb3ZcbiAqIExpY2Vuc2U6IFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqL1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgdHJhbnNpdGlvbml6ZSA9IHJlcXVpcmUoJ2FicGV0a292fnRyYW5zaXRpb25pemVAMC4wLjMnKVxuICAsIGZhc3RjbGljayA9IHJlcXVpcmUoJ2Z0bGFic35mYXN0Y2xpY2tAdjAuNi4xMScpXG4gICwgY2xhc3NlcyA9IHJlcXVpcmUoJ2NvbXBvbmVudH5jbGFzc2VzQDEuMi4xJylcbiAgLCBldmVudHMgPSByZXF1aXJlKCdjb21wb25lbnR+ZXZlbnRzQDEuMC45Jyk7XG5cbi8qKlxuICogRXhwb3NlIGBTd2l0Y2hlcnlgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gU3dpdGNoZXJ5O1xuXG4vKipcbiAqIFNldCBTd2l0Y2hlcnkgZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgY29sb3IgICAgICAgICAgICAgOiAnIzY0YmQ2MydcbiAgLCBzZWNvbmRhcnlDb2xvciAgICA6ICcjZGZkZmRmJ1xuICAsIGphY2tDb2xvciAgICAgICAgIDogJyNmZmYnXG4gICwgamFja1NlY29uZGFyeUNvbG9yOiBudWxsXG4gICwgY2xhc3NOYW1lICAgICAgICAgOiAnc3dpdGNoZXJ5J1xuICAsIGRpc2FibGVkICAgICAgICAgIDogZmFsc2VcbiAgLCBkaXNhYmxlZE9wYWNpdHkgICA6IDAuNVxuICAsIHNwZWVkICAgICAgICAgICAgIDogJzAuNHMnXG4gICwgc2l6ZSAgICAgICAgICAgICAgOiAnZGVmYXVsdCdcbn07XG5cbi8qKlxuICogQ3JlYXRlIFN3aXRjaGVyeSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFN3aXRjaGVyeShlbGVtZW50LCBvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTd2l0Y2hlcnkpKSByZXR1cm4gbmV3IFN3aXRjaGVyeShlbGVtZW50LCBvcHRpb25zKTtcblxuICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGZvciAodmFyIGkgaW4gZGVmYXVsdHMpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zW2ldID09IG51bGwpIHtcbiAgICAgIHRoaXMub3B0aW9uc1tpXSA9IGRlZmF1bHRzW2ldO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLmVsZW1lbnQgIT0gbnVsbCAmJiB0aGlzLmVsZW1lbnQudHlwZSA9PSAnY2hlY2tib3gnKSB0aGlzLmluaXQoKTtcbiAgaWYgKHRoaXMuaXNEaXNhYmxlZCgpID09PSB0cnVlKSB0aGlzLmRpc2FibGUoKTtcbn1cblxuLyoqXG4gKiBIaWRlIHRoZSB0YXJnZXQgZWxlbWVudC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Td2l0Y2hlcnkucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG4vKipcbiAqIFNob3cgY3VzdG9tIHN3aXRjaCBhZnRlciB0aGUgdGFyZ2V0IGVsZW1lbnQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU3dpdGNoZXJ5LnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzd2l0Y2hlciA9IHRoaXMuY3JlYXRlKCk7XG4gIHRoaXMuaW5zZXJ0QWZ0ZXIodGhpcy5lbGVtZW50LCBzd2l0Y2hlcik7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBjdXN0b20gc3dpdGNoLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IHRoaXMuc3dpdGNoZXJcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblN3aXRjaGVyeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuc3dpdGNoZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHRoaXMuamFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NtYWxsJyk7XG4gIHRoaXMuc3dpdGNoZXIuYXBwZW5kQ2hpbGQodGhpcy5qYWNrKTtcbiAgdGhpcy5zd2l0Y2hlci5jbGFzc05hbWUgPSB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lO1xuICB0aGlzLmV2ZW50cyA9IGV2ZW50cyh0aGlzLnN3aXRjaGVyLCB0aGlzKTtcblxuICByZXR1cm4gdGhpcy5zd2l0Y2hlcjtcbn07XG5cbi8qKlxuICogSW5zZXJ0IGFmdGVyIGVsZW1lbnQgYWZ0ZXIgYW5vdGhlciBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblN3aXRjaGVyeS5wcm90b3R5cGUuaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbihyZWZlcmVuY2UsIHRhcmdldCkge1xuICByZWZlcmVuY2UucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFyZ2V0LCByZWZlcmVuY2UubmV4dFNpYmxpbmcpO1xufTtcblxuLyoqXG4gKiBTZXQgc3dpdGNoIGphY2sgcHJvcGVyIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2xpY2tlZCAtIHdlIG5lZWQgdGhpcyBpbiBvcmRlciB0byB1bmNoZWNrIHRoZSBpbnB1dCB3aGVuIHRoZSBzd2l0Y2ggaXMgY2xpY2tlZFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU3dpdGNoZXJ5LnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChjbGlja2VkKSB7XG4gIHZhciBjaGVja2VkID0gdGhpcy5pc0NoZWNrZWQoKVxuICAgICwgc3dpdGNoZXIgPSB0aGlzLnN3aXRjaGVyXG4gICAgLCBqYWNrID0gdGhpcy5qYWNrO1xuXG4gIGlmIChjbGlja2VkICYmIGNoZWNrZWQpIGNoZWNrZWQgPSBmYWxzZTtcbiAgZWxzZSBpZiAoY2xpY2tlZCAmJiAhY2hlY2tlZCkgY2hlY2tlZCA9IHRydWU7XG5cbiAgaWYgKGNoZWNrZWQgPT09IHRydWUpIHtcbiAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IHRydWU7XG5cbiAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIGphY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHN3aXRjaGVyKS53aWR0aCkgLSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShqYWNrKS53aWR0aCkgKyAncHgnO1xuICAgIGVsc2UgamFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoc3dpdGNoZXIuY3VycmVudFN0eWxlWyd3aWR0aCddKSAtIHBhcnNlSW50KGphY2suY3VycmVudFN0eWxlWyd3aWR0aCddKSArICdweCc7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbG9yKSB0aGlzLmNvbG9yaXplKCk7XG4gICAgdGhpcy5zZXRTcGVlZCgpO1xuICB9IGVsc2Uge1xuICAgIGphY2suc3R5bGUubGVmdCA9IDA7XG4gICAgdGhpcy5lbGVtZW50LmNoZWNrZWQgPSBmYWxzZTtcbiAgICB0aGlzLnN3aXRjaGVyLnN0eWxlLmJveFNoYWRvdyA9ICdpbnNldCAwIDAgMCAwICcgKyB0aGlzLm9wdGlvbnMuc2Vjb25kYXJ5Q29sb3I7XG4gICAgdGhpcy5zd2l0Y2hlci5zdHlsZS5ib3JkZXJDb2xvciA9IHRoaXMub3B0aW9ucy5zZWNvbmRhcnlDb2xvcjtcbiAgICB0aGlzLnN3aXRjaGVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICh0aGlzLm9wdGlvbnMuc2Vjb25kYXJ5Q29sb3IgIT09IGRlZmF1bHRzLnNlY29uZGFyeUNvbG9yKSA/IHRoaXMub3B0aW9ucy5zZWNvbmRhcnlDb2xvciA6ICcjZmZmJztcbiAgICB0aGlzLmphY2suc3R5bGUuYmFja2dyb3VuZENvbG9yID0gKHRoaXMub3B0aW9ucy5qYWNrU2Vjb25kYXJ5Q29sb3IgIT09IHRoaXMub3B0aW9ucy5qYWNrQ29sb3IpID8gdGhpcy5vcHRpb25zLmphY2tTZWNvbmRhcnlDb2xvciA6IHRoaXMub3B0aW9ucy5qYWNrQ29sb3I7XG4gICAgdGhpcy5zZXRTcGVlZCgpO1xuICB9XG59O1xuXG4vKipcbiAqIFNldCBzcGVlZC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Td2l0Y2hlcnkucHJvdG90eXBlLnNldFNwZWVkID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzd2l0Y2hlclByb3AgPSB7fVxuICAgICwgamFja1Byb3AgPSB7XG4gICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogdGhpcy5vcHRpb25zLnNwZWVkXG4gICAgICAsICdsZWZ0JzogdGhpcy5vcHRpb25zLnNwZWVkLnJlcGxhY2UoL1thLXpdLywgJycpIC8gMiArICdzJ1xuICAgIH07XG5cbiAgaWYgKHRoaXMuaXNDaGVja2VkKCkpIHtcbiAgICBzd2l0Y2hlclByb3AgPSB7XG4gICAgICAgICdib3JkZXInOiB0aGlzLm9wdGlvbnMuc3BlZWRcbiAgICAgICwgJ2JveC1zaGFkb3cnOiB0aGlzLm9wdGlvbnMuc3BlZWRcbiAgICAgICwgJ2JhY2tncm91bmQtY29sb3InOiB0aGlzLm9wdGlvbnMuc3BlZWQucmVwbGFjZSgvW2Etel0vLCAnJykgKiAzICsgJ3MnXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2hlclByb3AgPSB7XG4gICAgICAgICdib3JkZXInOiB0aGlzLm9wdGlvbnMuc3BlZWRcbiAgICAgICwgJ2JveC1zaGFkb3cnOiB0aGlzLm9wdGlvbnMuc3BlZWRcbiAgICB9O1xuICB9XG5cbiAgdHJhbnNpdGlvbml6ZSh0aGlzLnN3aXRjaGVyLCBzd2l0Y2hlclByb3ApO1xuICB0cmFuc2l0aW9uaXplKHRoaXMuamFjaywgamFja1Byb3ApO1xufTtcblxuLyoqXG4gKiBTZXQgc3dpdGNoIHNpemUuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU3dpdGNoZXJ5LnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzbWFsbCA9ICdzd2l0Y2hlcnktc21hbGwnXG4gICAgLCBub3JtYWwgPSAnc3dpdGNoZXJ5LWRlZmF1bHQnXG4gICAgLCBsYXJnZSA9ICdzd2l0Y2hlcnktbGFyZ2UnO1xuXG4gIHN3aXRjaCAodGhpcy5vcHRpb25zLnNpemUpIHtcbiAgICBjYXNlICdzbWFsbCc6XG4gICAgICBjbGFzc2VzKHRoaXMuc3dpdGNoZXIpLmFkZChzbWFsbClcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2xhcmdlJzpcbiAgICAgIGNsYXNzZXModGhpcy5zd2l0Y2hlcikuYWRkKGxhcmdlKVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNsYXNzZXModGhpcy5zd2l0Y2hlcikuYWRkKG5vcm1hbClcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG4vKipcbiAqIFNldCBzd2l0Y2ggY29sb3IuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU3dpdGNoZXJ5LnByb3RvdHlwZS5jb2xvcml6ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc3dpdGNoZXJIZWlnaHQgPSB0aGlzLnN3aXRjaGVyLm9mZnNldEhlaWdodCAvIDI7XG5cbiAgdGhpcy5zd2l0Y2hlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLm9wdGlvbnMuY29sb3I7XG4gIHRoaXMuc3dpdGNoZXIuc3R5bGUuYm9yZGVyQ29sb3IgPSB0aGlzLm9wdGlvbnMuY29sb3I7XG4gIHRoaXMuc3dpdGNoZXIuc3R5bGUuYm94U2hhZG93ID0gJ2luc2V0IDAgMCAwICcgKyBzd2l0Y2hlckhlaWdodCArICdweCAnICsgdGhpcy5vcHRpb25zLmNvbG9yO1xuICB0aGlzLmphY2suc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5vcHRpb25zLmphY2tDb2xvcjtcbn07XG5cbi8qKlxuICogSGFuZGxlIHRoZSBvbmNoYW5nZSBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHN0YXRlXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Td2l0Y2hlcnkucHJvdG90eXBlLmhhbmRsZU9uY2hhbmdlID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgaWYgKGRvY3VtZW50LmRpc3BhdGNoRXZlbnQpIHtcbiAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuICAgIGV2ZW50LmluaXRFdmVudCgnY2hhbmdlJywgdHJ1ZSwgdHJ1ZSk7XG4gICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZWxlbWVudC5maXJlRXZlbnQoJ29uY2hhbmdlJyk7XG4gIH1cbn07XG5cbi8qKlxuICogSGFuZGxlIHRoZSBuYXRpdmUgaW5wdXQgZWxlbWVudCBzdGF0ZSBjaGFuZ2UuXG4gKiBBIGBjaGFuZ2VgIGV2ZW50IG11c3QgYmUgZmlyZWQgaW4gb3JkZXIgdG8gZGV0ZWN0IHRoZSBjaGFuZ2UuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU3dpdGNoZXJ5LnByb3RvdHlwZS5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gICAgLCBlbCA9IHRoaXMuZWxlbWVudDtcblxuICBpZiAoZWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5zZXRQb3NpdGlvbigpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGVsLmF0dGFjaEV2ZW50KCdvbmNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5zZXRQb3NpdGlvbigpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZSB0aGUgc3dpdGNoIGNsaWNrIGV2ZW50LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblN3aXRjaGVyeS5wcm90b3R5cGUuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN3aXRjaGVyID0gdGhpcy5zd2l0Y2hlcjtcblxuICBmYXN0Y2xpY2soc3dpdGNoZXIpO1xuICB0aGlzLmV2ZW50cy5iaW5kKCdjbGljaycsICdiaW5kQ2xpY2snKTtcbn07XG5cbi8qKlxuICogQXR0YWNoIGFsbCBtZXRob2RzIHRoYXQgbmVlZCB0byBoYXBwZW4gb24gc3dpdGNoZXIgY2xpY2suXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU3dpdGNoZXJ5LnByb3RvdHlwZS5iaW5kQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhcmVudCA9IHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgICwgbGFiZWxQYXJlbnQgPSAocGFyZW50ID09PSAnbGFiZWwnKSA/IGZhbHNlIDogdHJ1ZTtcblxuICB0aGlzLnNldFBvc2l0aW9uKGxhYmVsUGFyZW50KTtcbiAgdGhpcy5oYW5kbGVPbmNoYW5nZSh0aGlzLmVsZW1lbnQuY2hlY2tlZCk7XG59O1xuXG4vKipcbiAqIE1hcmsgYW4gaW5kaXZpZHVhbCBzd2l0Y2ggYXMgYWxyZWFkeSBoYW5kbGVkLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblN3aXRjaGVyeS5wcm90b3R5cGUubWFya0FzU3dpdGNoZWQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1zd2l0Y2hlcnknLCB0cnVlKTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYW4gaW5kaXZpZHVhbCBzd2l0Y2ggaXMgYWxyZWFkeSBoYW5kbGVkLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblN3aXRjaGVyeS5wcm90b3R5cGUubWFya2VkQXNTd2l0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zd2l0Y2hlcnknKTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBTd2l0Y2hlcnkuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU3dpdGNoZXJ5LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaGlkZSgpO1xuICB0aGlzLnNob3coKTtcbiAgdGhpcy5zZXRTaXplKCk7XG4gIHRoaXMuc2V0UG9zaXRpb24oKTtcbiAgdGhpcy5tYXJrQXNTd2l0Y2hlZCgpO1xuICB0aGlzLmhhbmRsZUNoYW5nZSgpO1xuICB0aGlzLmhhbmRsZUNsaWNrKCk7XG59O1xuXG4vKipcbiAqIFNlZSBpZiBpbnB1dCBpcyBjaGVja2VkLlxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Td2l0Y2hlcnkucHJvdG90eXBlLmlzQ2hlY2tlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lbGVtZW50LmNoZWNrZWQ7XG59O1xuXG4vKipcbiAqIFNlZSBpZiBzd2l0Y2hlciBzaG91bGQgYmUgZGlzYWJsZWQuXG4gKlxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblN3aXRjaGVyeS5wcm90b3R5cGUuaXNEaXNhYmxlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5vcHRpb25zLmRpc2FibGVkIHx8IHRoaXMuZWxlbWVudC5kaXNhYmxlZCB8fCB0aGlzLmVsZW1lbnQucmVhZE9ubHk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgYWxsIGV2ZW50IGhhbmRsZXJzIGF0dGFjaGVkIHRvIHRoZSBzd2l0Y2guXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Td2l0Y2hlcnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5ldmVudHMudW5iaW5kKCk7XG59O1xuXG4vKipcbiAqIEVuYWJsZSBkaXNhYmxlZCBzd2l0Y2ggZWxlbWVudC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblN3aXRjaGVyeS5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5vcHRpb25zLmRpc2FibGVkKSByZXR1cm47XG4gIGlmICh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpIHRoaXMub3B0aW9ucy5kaXNhYmxlZCA9IGZhbHNlO1xuICBpZiAodGhpcy5lbGVtZW50LmRpc2FibGVkKSB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgaWYgKHRoaXMuZWxlbWVudC5yZWFkT25seSkgdGhpcy5lbGVtZW50LnJlYWRPbmx5ID0gZmFsc2U7XG4gIHRoaXMuc3dpdGNoZXIuc3R5bGUub3BhY2l0eSA9IDE7XG4gIHRoaXMuZXZlbnRzLmJpbmQoJ2NsaWNrJywgJ2JpbmRDbGljaycpO1xufTtcblxuLyoqXG4gKiBEaXNhYmxlIHN3aXRjaCBlbGVtZW50LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU3dpdGNoZXJ5LnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpIHJldHVybjtcbiAgaWYgKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpIHRoaXMub3B0aW9ucy5kaXNhYmxlZCA9IHRydWU7XG4gIGlmICghdGhpcy5lbGVtZW50LmRpc2FibGVkKSB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICBpZiAoIXRoaXMuZWxlbWVudC5yZWFkT25seSkgdGhpcy5lbGVtZW50LnJlYWRPbmx5ID0gdHJ1ZTtcbiAgdGhpcy5zd2l0Y2hlci5zdHlsZS5vcGFjaXR5ID0gdGhpcy5vcHRpb25zLmRpc2FibGVkT3BhY2l0eTtcbiAgdGhpcy5kZXN0cm95KCk7XG59O1xuXG59KTtcblxuaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic3dpdGNoZXJ5XCIpO1xufSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShcIlN3aXRjaGVyeVwiLCBbXSwgZnVuY3Rpb24oKXsgcmV0dXJuIHJlcXVpcmUoXCJzd2l0Y2hlcnlcIik7IH0pO1xufSBlbHNlIHtcbiAgKHRoaXMgfHwgd2luZG93KVtcIlN3aXRjaGVyeVwiXSA9IHJlcXVpcmUoXCJzd2l0Y2hlcnlcIik7XG59XG59KSgpO1xuIl19
